{"version":3,"sources":["js/node_modules/browserify/node_modules/browser-pack/_prelude.js","js/js/actions.js","js/newtab.js","js/js/createCalendar.js","js/js/favorites.js","js/js/newtab.js","js/js/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","triggerModal","modal","$","fadeIn","animate","closeModal","fadeOut","triggerEditMode","sortable","processEditedList","NTInstance","reorderedList","slice","children","processedList","newEntry","childNodes","dataset","title","href","bgImg","push","setSetting","loadUserSettings","userTheme","getSetting","userFont","userHover","userBGImg","userFaveSize","userBGStyle","currentSettings","setUserSettings","settings","cardSizeStr","faveSize","parseInt","theme","css","not","bgStyle","font","radios","each","el","val","attr","background","hover","showInitialLoad","$onboarding","temp","html","setFont","fontName","newFontStack","setHover","hoverName","addClass","removeClass","setSize","sizeVal","setBGStyle","styleVal","d","Date","month_name","month","getMonth","year","getFullYear","today","getDate","first_date","tmp","toDateString","first_day","substring","day_name","day_no","indexOf","days","table","document","createElement","theCalendar","tr","buildCalendar","c","td","daysOfTheWeek","innerHTML","appendChild","count","classList","add","Util","addFavorite","url","imageUrl","newListEntry","newFavorite","get","done","style","backgroundImage","fail","backgroundSize","backgroundPosition","backgroundRepeat","optDel","append","hide","saveFavorite","entry","currentSaved","savedFavorites","getPopularFavorites","ajax","method","deleteFavorite","delUrl","forEach","item","index","splice","loadSavedFavorites","savedItems","loadPopularFavorites","popFavs","then","res","response","JSON","parse","createPopularFavs","loadDefaultFavorites","getPromise","createDefaultFavs","favorites","list","default_favorites","console","log","popular_favorites","match","filter","favHTML","chrome","extension","getBackgroundPage","editing","storage","local","ActionsManager","Calendar","FavoritesManager","ready","calendar","runtime","sendMessage","task","firstRun","focus","currentTime","toLocaleTimeString","navigator","language","hour","minute","currentDate","setInterval","on","preventDefault","clickElement","modalToOpen","toggleClass","toggle","settingsModal","onBoardingModal","calendarModal","selection","titletoAdd","urltoAdd","imgtoAdd","imgurl","remove","allPopFavs","popArr","data","modalToClose","closest","titleVal","urlVal","addHttp","isValidURL","validateURL","text","show","imageVal","isValidImgURL","newImageURL","change","value","hoverSelected","fontSelected","sizeSelected","bgStyleSelected","favorite","parent","linkToDelete","hasClass","getCookie","compareLists","getCurrentTime","getParameterByName","getBrowser","getBrowserSetting","setBrowserSetting","jsonp","list1","list2","toLowerCase","cookieInfo","domain","name","p","Promise","resolve","reject","cookies","getAll","catFromCookie","stringify","ca","cookie","split","charAt","RegExp","exec","window","location","search","decodeURIComponent","replace","ua","userAgent","browser","localStorage","setItem","defValue","settingVal","getItem","callback","callbackName","Math","round","random","head","removeChild","script","src","newUrl","concat"],"mappings":"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","file":"newtab.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// const $ = require(\"jquery\");\n\n// Prompt user for image to use for bookmark\n// and also the url.  Append to favorites\nlet triggerModal = function(modal) {\n    $('.lightbox').fadeIn();\n    // modal.fadeIn();\n    modal.animate({\n      \"right\" : \"0px\"\n    }, 400, \"swing\");\n\n};\n\nlet closeModal = function (modal) {\n    $('.lightbox').fadeOut();\n    // modal.fadeOut();\n    modal.animate({\n      \"right\" : \"-400px\"\n    }, 300, \"swing\");\n};\n\nlet triggerEditMode = function () {\n    $(\"#favorites\").sortable(\"enable\");\n};\n\nlet processEditedList = function (NTInstance) {\n    var reorderedList = [].slice.call($(\"#favorites\").children(), 0);\n\n\n    var processedList = [];\n    for (var i = 0; i < reorderedList.length; i++) {\n      // console.log(reorderedList[i].childNodes[0].dataset.title);\n      var newEntry = {\n        \"title\": reorderedList[i].childNodes[0].dataset.title,\n        \"url\": reorderedList[i].childNodes[0].href,\n        \"bgImg\": reorderedList[i].childNodes[0].dataset.bgImg\n      };\n      processedList.push(newEntry);\n    }\n    NTInstance.setSetting(\"savedFavorites\", processedList);\n    $(\"#favorites\").sortable(\"disable\");\n};\n\nlet loadUserSettings = function(NTInstance) {\n    var userTheme = NTInstance.getSetting(\"userTheme\", \"light\");\n    var userFont = NTInstance.getSetting(\"userFont\", \"Work Sans\");\n    var userHover = NTInstance.getSetting(\"userHover\", \"hoverPop\");\n    var userBGImg = NTInstance.getSetting(\"userThemeBG\", null);\n    var userFaveSize = NTInstance.getSetting(\"userFaveSize\", \"80\");\n    var userBGStyle = NTInstance.getSetting(\"userBGStyle\", \"repeat\");\n    NTInstance.currentSettings = {\n      \"theme\" : userTheme,\n      \"font\" : userFont,\n      \"hover\" : userHover,\n      \"background\" : userBGImg,\n      \"faveSize\" : userFaveSize,\n      \"bgStyle\" : userBGStyle\n    };\n    // console.log(NTInstance.currentSettings);\n};\nlet setUserSettings = function (settings) {\n    let cardSizeStr = settings.faveSize + \"px \" + (parseInt(settings.faveSize) + 40) + \"px\";\n\n    // Set Theme Styles\n    if (settings.theme === 'light') {\n      $(\"body, .modal\").css(\"background\", \"white\");\n      $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span\").css(\"color\", \"black\");\n      $(\".favorite\").css({\n        \"border\" : \"1.5px solid black\",\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n      $(\".favorite i, .popFav\").css(\"color\", \"white\");\n    }\n    else if (settings.theme === 'dark') {\n      $(\"body, .modal\").css(\"background\", \"#3c3c3c\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".favorite\").css({\n        \"border\" : \"1.5px solid #d4d6e9\",\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n    }\n    else if (settings.theme === \"fade\") {\n      $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".headerPanel\").css(\"border\", \"none\");\n      $(\".favorite\").css({\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n    }\n    // Set BG Image Style\n    if(settings.bgStyle === \"cover\"){\n      $(\"body\").css(\"background-size\", settings.bgStyle);\n    }\n    else {\n      $(\"body\").css(\"background-repeat\", settings.bgStyle);\n      $(\"body\").css(\"background-size\", \"auto\");\n\n    }\n    // Set Font\n    $(\"*\").not(\"i\").css(\"font-family\", settings.font);\n\n    var radios = $(\"input[name=theme-select]\");\n    $(radios).each(function(i, el) {\n      if($(el).val() === settings.theme)\n        $(el).attr(\"checked\", \"checked\");\n    });\n    // Set Background\n    if(settings.background !== null) {\n      $(\"body\").css(\"background-image\", \"url(\" + settings.background +\")\");\n      $(\"input[name=themeBGImage]\").val(settings.background);\n    }\n    // Set Settings Options to their saved values\n    $(\".themeBGImageRepeat\").val(settings.bgStyle);\n    $(\".favoriteSize\").val(settings.faveSize);\n    $(\"select.fontOption\").val(settings.font);\n    $(\"select.hoverOption\").val(settings.hover);\n\n\n  };\n\n  // TO-DO: Could probably be implemented better\nlet showInitialLoad = function () {\n    var $onboarding = $(\".onboardingModal\");\n    var temp = $onboarding.html();\n    // $onboarding.html(\"<img class='onboardLoad' src='/newtab/images/cubeload.svg'/><p class='onboardGreeting'>Setting up DashTab</p>\");\n    // setTimeout(function() {\n    //   $onboarding.children().fadeOut(\"slow\");\n    // }, 3000);\n    // setTimeout(function() {\n    //   $onboarding.html(\"<img class='onboardLoad' src='/newtab/images/logo.jpg'/ alt='Dashtab Logo'><p class='onboardGreeting'>Welcome to DashTab!</p>\");\n    // }, 3500);\n    // setTimeout(function() {\n    //   $(\".onboardGreeting, .onboardLoad\").fadeOut(\"slow\");\n    //   // $onboarding.html(temp).children(\".modalWrapper\").hide();\n    //   // $(\".modalWrapper\").fadeOut(\"slow\");\n    // }, 6000);\n    // setTimeout(function() {\n    //   // $(\".onboardGreeting, .onboardLoad\").fadeOut(\"slow\");\n    //   $onboarding.html(temp).children(\".modalWrapper\").hide();\n    //   // $(\".modalWrapper\").fadeOut(\"slow\");\n    // }, 6500);\n    // setTimeout(function() {\n    //   $(\".modalWrapper\").fadeIn(\"slow\");\n    //   // $(\".onboardGreeting\").fadeOut(\"slow\");\n    // }, 7000);\n  };\n\nlet setFont = function(fontName, NTInstance) {\n    let newFontStack = fontName;\n    NTInstance.setSetting(\"userFont\", newFontStack);\n    $(\"*\").not(\"i\").css(\"font-family\", newFontStack);\n};\n\nlet setHover = function(hoverName, NTInstance) {\n  NTInstance.setSetting(\"userHover\", hoverName);\n  switch(hoverName) {\n\n    case \"hoverPop\":\n    $(\".favorite\").addClass(\"hoverPop\").removeClass(\"hoverNone hoverHighlight\");\n    break;\n\n    case \"hoverHighlight\":\n    $(\".favorite\").addClass(\"hoverHighlight\").removeClass(\"hoverNone hoverPop\");\n    break;\n\n    case \"hoverNone\":\n    $(\".favorite\").addClass(\"hoverNone\").removeClass(\"hoverPop hoverHighlight\");\n    break;\n  }\n  //$(\".favorite\").addClass(hoverName).removeClass(\"hoverNone hoverHighlight\");\n};\n\nlet setSize = function(sizeVal, NTInstance) {\n  NTInstance.setSetting(\"userFaveSize\", sizeVal);\n  let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n  $(\".favorite\").css({\n    \"padding\" : cardSizeStr,\n    \"transition\" : \"0.4s padding, 0.3s transform, 0.3s margin\"\n  });\n};\nlet setBGStyle = function(styleVal, NTInstance) {\n  NTInstance.setSetting(\"userBGStyle\", styleVal);\n  if(styleVal === \"cover\"){\n    $(\"body\").css(\"background-size\", styleVal);\n  }\n  else {\n    $(\"body\").css(\"background-repeat\", styleVal);\n    $(\"body\").css(\"background-size\", \"auto\");\n  }\n  // let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n};\nmodule.exports = {\n  triggerModal,\n  closeModal,\n  triggerEditMode,\n  processEditedList,\n  loadUserSettings,\n  setUserSettings,\n  showInitialLoad,\n  setFont,\n  setHover,\n  setSize,\n  setBGStyle\n};\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// const $ = require(\"jquery\");\n\n// Prompt user for image to use for bookmark\n// and also the url.  Append to favorites\nlet triggerModal = function(modal) {\n    $('.lightbox').fadeIn();\n    // modal.fadeIn();\n    modal.animate({\n      \"right\" : \"0px\"\n    }, 400, \"swing\");\n\n};\n\nlet closeModal = function (modal) {\n    $('.lightbox').fadeOut();\n    // modal.fadeOut();\n    modal.animate({\n      \"right\" : \"-400px\"\n    }, 300, \"swing\");\n};\n\nlet triggerEditMode = function () {\n    $(\"#favorites\").sortable(\"enable\");\n};\n\nlet processEditedList = function (NTInstance) {\n    var reorderedList = [].slice.call($(\"#favorites\").children(), 0);\n\n\n    var processedList = [];\n    for (var i = 0; i < reorderedList.length; i++) {\n      // console.log(reorderedList[i].childNodes[0].dataset.title);\n      var newEntry = {\n        \"title\": reorderedList[i].childNodes[0].dataset.title,\n        \"url\": reorderedList[i].childNodes[0].href,\n        \"bgImg\": reorderedList[i].childNodes[0].dataset.bgImg\n      };\n      processedList.push(newEntry);\n    }\n    NTInstance.setSetting(\"savedFavorites\", processedList);\n    $(\"#favorites\").sortable(\"disable\");\n};\n\nlet loadUserSettings = function(NTInstance) {\n    var userTheme = NTInstance.getSetting(\"userTheme\", \"light\");\n    var userFont = NTInstance.getSetting(\"userFont\", \"Work Sans\");\n    var userHover = NTInstance.getSetting(\"userHover\", \"hoverPop\");\n    var userBGImg = NTInstance.getSetting(\"userThemeBG\", null);\n    var userFaveSize = NTInstance.getSetting(\"userFaveSize\", \"80\");\n    var userBGStyle = NTInstance.getSetting(\"userBGStyle\", \"repeat\");\n    NTInstance.currentSettings = {\n      \"theme\" : userTheme,\n      \"font\" : userFont,\n      \"hover\" : userHover,\n      \"background\" : userBGImg,\n      \"faveSize\" : userFaveSize,\n      \"bgStyle\" : userBGStyle\n    };\n    // console.log(NTInstance.currentSettings);\n};\nlet setUserSettings = function (settings) {\n    let cardSizeStr = settings.faveSize + \"px \" + (parseInt(settings.faveSize) + 40) + \"px\";\n\n    // Set Theme Styles\n    if (settings.theme === 'light') {\n      $(\"body, .modal\").css(\"background\", \"white\");\n      $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span\").css(\"color\", \"black\");\n      $(\".favorite\").css({\n        \"border\" : \"1.5px solid black\",\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n      $(\".favorite i, .popFav\").css(\"color\", \"white\");\n    }\n    else if (settings.theme === 'dark') {\n      $(\"body, .modal\").css(\"background\", \"#3c3c3c\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".favorite\").css({\n        \"border\" : \"1.5px solid #d4d6e9\",\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n    }\n    else if (settings.theme === \"fade\") {\n      $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".headerPanel\").css(\"border\", \"none\");\n      $(\".favorite\").css({\n        \"padding\" : cardSizeStr,\n        \"transition\" : \"0.3s transform, 0.3s margin\"\n      });\n    }\n    // Set BG Image Style\n    if(settings.bgStyle === \"cover\"){\n      $(\"body\").css(\"background-size\", settings.bgStyle);\n    }\n    else {\n      $(\"body\").css(\"background-repeat\", settings.bgStyle);\n      $(\"body\").css(\"background-size\", \"auto\");\n\n    }\n    // Set Font\n    $(\"*\").not(\"i\").css(\"font-family\", settings.font);\n\n    var radios = $(\"input[name=theme-select]\");\n    $(radios).each(function(i, el) {\n      if($(el).val() === settings.theme)\n        $(el).attr(\"checked\", \"checked\");\n    });\n    // Set Background\n    if(settings.background !== null) {\n      $(\"body\").css(\"background-image\", \"url(\" + settings.background +\")\");\n      $(\"input[name=themeBGImage]\").val(settings.background);\n    }\n    // Set Settings Options to their saved values\n    $(\".themeBGImageRepeat\").val(settings.bgStyle);\n    $(\".favoriteSize\").val(settings.faveSize);\n    $(\"select.fontOption\").val(settings.font);\n    $(\"select.hoverOption\").val(settings.hover);\n\n\n  };\n\n  // TO-DO: Could probably be implemented better\nlet showInitialLoad = function () {\n    var $onboarding = $(\".onboardingModal\");\n    var temp = $onboarding.html();\n    // $onboarding.html(\"<img class='onboardLoad' src='/newtab/images/cubeload.svg'/><p class='onboardGreeting'>Setting up DashTab</p>\");\n    // setTimeout(function() {\n    //   $onboarding.children().fadeOut(\"slow\");\n    // }, 3000);\n    // setTimeout(function() {\n    //   $onboarding.html(\"<img class='onboardLoad' src='/newtab/images/logo.jpg'/ alt='Dashtab Logo'><p class='onboardGreeting'>Welcome to DashTab!</p>\");\n    // }, 3500);\n    // setTimeout(function() {\n    //   $(\".onboardGreeting, .onboardLoad\").fadeOut(\"slow\");\n    //   // $onboarding.html(temp).children(\".modalWrapper\").hide();\n    //   // $(\".modalWrapper\").fadeOut(\"slow\");\n    // }, 6000);\n    // setTimeout(function() {\n    //   // $(\".onboardGreeting, .onboardLoad\").fadeOut(\"slow\");\n    //   $onboarding.html(temp).children(\".modalWrapper\").hide();\n    //   // $(\".modalWrapper\").fadeOut(\"slow\");\n    // }, 6500);\n    // setTimeout(function() {\n    //   $(\".modalWrapper\").fadeIn(\"slow\");\n    //   // $(\".onboardGreeting\").fadeOut(\"slow\");\n    // }, 7000);\n  };\n\nlet setFont = function(fontName, NTInstance) {\n    let newFontStack = fontName;\n    NTInstance.setSetting(\"userFont\", newFontStack);\n    $(\"*\").not(\"i\").css(\"font-family\", newFontStack);\n};\n\nlet setHover = function(hoverName, NTInstance) {\n  NTInstance.setSetting(\"userHover\", hoverName);\n  switch(hoverName) {\n\n    case \"hoverPop\":\n    $(\".favorite\").addClass(\"hoverPop\").removeClass(\"hoverNone hoverHighlight\");\n    break;\n\n    case \"hoverHighlight\":\n    $(\".favorite\").addClass(\"hoverHighlight\").removeClass(\"hoverNone hoverPop\");\n    break;\n\n    case \"hoverNone\":\n    $(\".favorite\").addClass(\"hoverNone\").removeClass(\"hoverPop hoverHighlight\");\n    break;\n  }\n  //$(\".favorite\").addClass(hoverName).removeClass(\"hoverNone hoverHighlight\");\n};\n\nlet setSize = function(sizeVal, NTInstance) {\n  NTInstance.setSetting(\"userFaveSize\", sizeVal);\n  let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n  $(\".favorite\").css({\n    \"padding\" : cardSizeStr,\n    \"transition\" : \"0.4s padding, 0.3s transform, 0.3s margin\"\n  });\n};\nlet setBGStyle = function(styleVal, NTInstance) {\n  NTInstance.setSetting(\"userBGStyle\", styleVal);\n  if(styleVal === \"cover\"){\n    $(\"body\").css(\"background-size\", styleVal);\n  }\n  else {\n    $(\"body\").css(\"background-repeat\", styleVal);\n    $(\"body\").css(\"background-size\", \"auto\");\n  }\n  // let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n};\nmodule.exports = {\n  triggerModal,\n  closeModal,\n  triggerEditMode,\n  processEditedList,\n  loadUserSettings,\n  setUserSettings,\n  showInitialLoad,\n  setFont,\n  setHover,\n  setSize,\n  setBGStyle\n};\n\n},{}],2:[function(require,module,exports){\n// Calendar\nlet d = new Date();\nlet month_name = ['January',\n                  'February',\n                  'March',\n                  'April',\n                  'May',\n                  'June',\n                  'July',\n                  'August',\n                  'September',\n                  'October',\n                  'November',\n                  'December'];\n\nlet month = d.getMonth(); // 0 - 11\nlet year = d.getFullYear(); // 2016\nlet today = d.getDate(); // 23\n\n// January 1 2016\nlet first_date = month_name[month] + \" \" + 1 + \" \" + year;\n\n\n\n// Sun January 1 2016\nlet tmp = new Date(first_date).toDateString();\n// Sun\nlet first_day = tmp.substring(0, 3);\nlet day_name = ['Sun', 'Mon', \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n// [0]\nlet day_no = day_name.indexOf(first_day);\nlet days = new Date(year, month+1, 0).getDate();\nlet table = document.createElement(\"table\");\nlet theCalendar;\n\nlet tr = document.createElement(\"tr\");\nfunction buildCalendar() {\n\n// Row for day labels\nfor(var c = 0; c < 7; c++) {\n  var td = document.createElement(\"td\");\n  var daysOfTheWeek = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  td.innerHTML = daysOfTheWeek[c];\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// Row for blank spaces\ntr = document.createElement(\"tr\");\nfor(c = 0;c < 7; c++) {\n  if(c === day_no) {\n    break;\n  }\n  var td = document.createElement(\"td\");\n  td.innerHTML = \"\";\n  tr.appendChild(td);\n}\n\n// Start counting days of the month\nvar count = 1;\n\nfor(; c < 7; c++) {\n  var td = document.createElement(\"td\");\n\n  td.innerHTML = \"<span>\" + count + \"</span>\";\n  if(count === today){\n    td.classList.add(\"currentDay\");\n  }\n\n  count++;\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// rest of the date rows\nfor(var r = 2; r < 7; r++) {\n\n  tr = document.createElement(\"tr\");\n  for(c = 0; c <  7;c++) {\n    if(count > days) {\n      table.appendChild(tr);\n      return table;\n      //console.log(\"theCalendar: \" + theCalendar);\n    }\n    var td = document.createElement(\"td\");\n    td.innerHTML = \"<span>\" + count + \"</span>\";\n    if(count === today){\n      td.classList.add(\"currentDay\");\n    }\n    count++;\n    tr.appendChild(td);\n  }\n  table.appendChild(tr);\n}\n}\n\ntheCalendar = buildCalendar();\nmodule.exports = {\n  theCalendar,\n  month_name,\n  month,\n  year\n};\n\n},{}],3:[function(require,module,exports){\nconst Util = require(\"./util.js\");\n// const $ = require(\"jquery\");\n// let NTInstance;\n// let init = function(NT) {\n//   NTInstance = NT;\n// };\n// Add a new favorite to the favorites grid\nlet addFavorite = function (title, url, imageUrl, NTInstance) {\n    var newListEntry = document.createElement(\"LI\");\n    var newFavorite = document.createElement(\"A\");\n    newFavorite.href = url;\n    // console.log(imageExists(imageUrl));\n    $.get(imageUrl)\n      .done(function() {\n        newFavorite.style.backgroundImage = \"url(\" + imageUrl + \")\";\n      }).fail(function() {\n        newFavorite.style.backgroundImage = \"url('/newtab/images/placeholder.png')\";\n    });\n    newFavorite.style.backgroundSize = \"cover\";\n    newFavorite.style.backgroundPosition = \"center center\";\n    newFavorite.style.backgroundRepeat = \"no-repeat\";\n    newFavorite.classList.add(\"favorite\", NTInstance.currentSettings.hover);\n    newFavorite.dataset.title = title;\n    newFavorite.dataset.bgImg = imageUrl;\n    var optDel = document.createElement(\"I\");\n    optDel.classList.add(\"fa\", \"fa-trash-o\", \"fa-lg\", \"fa-fw\", \"optDel\");\n    // var optEdit = document.createElement(\"I\");\n    // optEdit.classList.add(\"fa\", \"fa-pencil\", \"fa-lg\", \"fa-fw\", \"optEdit\");\n    newFavorite.appendChild(optDel);\n    // newFavorite.appendChild(optEdit);\n    newListEntry.appendChild(newFavorite);\n    $(\"#favorites\").append(newListEntry);\n    $(\".favorite\").children().hide();\n};\n\n\n  // Save favorite to local storage\nlet saveFavorite = function(entry, NTInstance) {\n    var currentSaved = [];\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n      currentSaved = savedFavorites;\n    }\n    currentSaved.push(entry);\n    NTInstance.setSetting(\"savedFavorites\" , currentSaved);\n    addFavorite(entry.title, entry.url, entry.bgImg, NTInstance);\n    $(\"#inputUrl\").val(\"\");\n    $(\"#inputImage\").val(\"\");\n  };\n\nlet getPopularFavorites = function () {\n    return $.ajax({\n      url: \"./popularFavs.json\",\n      method: \"GET\"\n    });\n};\n\nlet deleteFavorite = function (delUrl, NTInstance) {\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n    savedFavorites.forEach(function(item, index) {\n      if(item.url === delUrl) {\n        savedFavorites.splice(index, 1);\n      }\n\n    });\n    NTInstance.setSetting(\"savedFavorites\", savedFavorites);\n    }\n};\n\n  // Load saved favorites onload\nlet loadSavedFavorites = function(NTInstance) {\n    var savedItems = [];\n      var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n      if(savedFavorites !== null){\n      savedItems = savedFavorites;\n      savedItems.forEach(function(item) {\n        addFavorite(item.title, item.url, item.bgImg, NTInstance);\n      });\n      }\n};\n\nlet loadPopularFavorites = function (NTInstance) {\n    var popFavs = getPopularFavorites();\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createPopularFavs(response, NTInstance);\n    });\n};\nlet loadDefaultFavorites = function (NTInstance) {\n    var popFavs = Util.getPromise(\"/newtab/defaultFavs.json\");\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createDefaultFavs(response, NTInstance);\n    });\n};\n\nlet createDefaultFavs = function (favorites, NTInstance) {\n    var list = favorites.default_favorites;\n    let savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    console.log(savedFavorites);\n    for(var i = 0; i < list.length; i++){\n      var entry = {\n        \"title\" : list[i].title,\n        \"url\" : list[i].url,\n        \"bgImg\" : list[i].bgImg,\n      };\n      // console.log(entry);\n      if(savedFavorites.indexOf(entry) > -1)\n      saveFavorite(entry, NTInstance);\n    }\n};\n\nlet createPopularFavs = function (favorites, NTInstance) {\n    // console.log(NTInstance, favorites);\n    var list = favorites.popular_favorites;\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    // console.log(\"saved\", savedFavorites, \"list\", list);\n    var match = [];\n    //console.log(NTInstance);\n    for(var i = 0; i < list.length; i++){\n      if(savedFavorites !== null){\n      match = savedFavorites.filter(function(el) {\n        // console.log(\"curr\", el.url, \"list\", list[i].url);\n        return el.url === list[i].url;\n      });\n      // console.log(match);\n      }\n\n      if(match.length === 0){\n        var favHTML = \"<a href='#' class='popFav' data-title=\" + list[i].title + \" data-url=\" + list[i].url + \" data-imgurl=\" + list[i].bgImg +\">\" + list[i].title + \"</a>\";\n        $(\".popularFavs\").append(favHTML);\n      }\n    }\n};\n\nmodule.exports = {\n\n  addFavorite,\n  saveFavorite,\n  getPopularFavorites,\n  deleteFavorite,\n  loadSavedFavorites,\n  loadPopularFavorites,\n  loadDefaultFavorites,\n  createDefaultFavs,\n  createPopularFavs\n};\n\n},{\"./util.js\":5}],4:[function(require,module,exports){\n\n// const $ = require(\"jquery\");\n\nconst background = chrome.extension.getBackgroundPage();\nconst NTInstance = background.NTInstance;\nNTInstance.editing = false;\nNTInstance.currentSettings = {\n  \"theme\" : \"light\",\n  \"font\" : \"Work Sans\",\n  \"hover\" : \"hoverPop\",\n  \"background\" : null,\n  \"faveSize\" : \"80\"\n};\n\nchrome.storage.local.get(function(res){\n  console.log(res);\n});\n\nconsole.log(NTInstance.getSetting(\"savedFavorites\"));\n\nconst ActionsManager = require(\"./actions.js\");\nconst Calendar = require(\"./createCalendar.js\");\nconst FavoritesManager = require(\"./favorites.js\");\nconst Util = require(\"./util.js\");\n\n\n$(document).ready(function() {\n\n  ActionsManager.loadUserSettings(NTInstance);\n  FavoritesManager.loadSavedFavorites(NTInstance);\n  FavoritesManager.loadPopularFavorites(NTInstance);\n  ActionsManager.setUserSettings(NTInstance.currentSettings);\n  var calendar = Calendar.theCalendar;\n  // console.log(Calendar);\n  $(\".calendar-head\").html(\"<span>\" + Calendar.month_name[Calendar.month] + \" \" + Calendar.year + \"</span\");\n  $(\".calendar\").append(calendar);\n  $(\"#favorites\").sortable();\n  $(\"#favorites\").sortable(\"disable\");\n\n  chrome.runtime.sendMessage({task: \"checkFirstRun\"}, function(res) {\n    if(res.firstRun){\n      // ActionsManager.showInitialLoad();\n      FavoritesManager.loadDefaultFavorites(NTInstance);\n      ActionsManager.triggerModal($(\".onboardingModal\"));\n      $(\"#obInputTitle\").focus();\n    }\n\n    // Hide edit icons\n    $(\".favorite\").children().hide();\n  });\n\n  // Refresh time every second\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  $('#time').html(currentTime);\n  var currentDate = new Date().toDateString();\n  $('#date').html(currentDate);\n  setInterval(function(){\n    currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n    $('#time').html(currentTime);\n  }, 1000);\n\n  /*\n    Handlers for the top right main user actions menu\n  */\n  $(document).on(\"click\", \".userAction\", function(e) {\n     e.preventDefault();\n     var clickElement = $(this).attr('id');\n     //console.log(clickElement);\n     switch(clickElement) {\n        case \"addFavorite\":\n          if($(\".addModal .popularFavs\").children().length === 0 || $(\".onboardingModal .popularFavs\").children().length === 0){\n            $(\".addExtra\").hide();\n          }\n          var modalToOpen = $(\".addModal\");\n          ActionsManager.triggerModal(modalToOpen);\n          $(\"#inputTitle\").focus();\n          break;\n\n        case 'editMode':\n          e.preventDefault();\n          NTInstance.editing = !NTInstance.editing;\n          $(\".favorite\").toggleClass(\"editing\");\n          $(\".favorite\").children().toggle();\n          if(!NTInstance.editing){\n            ActionsManager.triggerEditMode();\n          }\n          else{\n            ActionsManager.processEditedList(NTInstance);\n          }\n          break;\n\n        case 'openSettings':\n          e.preventDefault();\n          var settingsModal = $(\".settingsModal\");\n          ActionsManager.triggerModal(settingsModal);\n\n          break;\n\n        case 'openOnboarding':\n          e.preventDefault();\n          var onBoardingModal = $(\".onboardingModal\");\n          ActionsManager.triggerModal(onBoardingModal);\n          break;\n\n        case 'openCalendar':\n          e.preventDefault();\n          var calendarModal = $(\".calendarModal\");\n          ActionsManager.triggerModal(calendarModal);\n          break;\n     }\n  });\n\n  /*\n    Handler for the suggested favorites in the Add New Favorite menu\n  */\n  $(document).on(\"click\", \".popFav\", function(e){\n    e.preventDefault();\n    var selection = $(this)[0];\n    var titletoAdd = selection.dataset.title;\n    var urltoAdd = selection.dataset.url;\n    var imgtoAdd = selection.dataset.imgurl;\n\n    var newEntry = {\n      \"title\" : titletoAdd,\n      \"url\" : urltoAdd,\n      \"bgImg\" : imgtoAdd\n    };\n    FavoritesManager.saveFavorite(newEntry, NTInstance);\n    $(this).remove();\n    var allPopFavs = $(\".popularFavs\").children();\n    var popArr = [].slice.call(allPopFavs, 0);\n    var match = popArr.filter(function(el) {\n      return $(el).data(\"url\") === urltoAdd;\n    });\n    $(match).hide();\n    console.log($(\".addModal .popularFavs\").children().length, $(\".onboardingModal .popularFavs\").children().length);\n    if($(\".addModal .popularFavs\").children().length === 0 || $(\".onboardingModal .popularFavs\").children().length === 0) {\n      // console.log(one);\n      $(\".addExtra, .popularFavs\").hide();\n    }\n  });\n/*\n  Handler for close button\n*/\n  $(document).on(\"click\", \".closeBtn\", function(e) {\n    e.preventDefault();\n    var modalToClose = $(this).closest(\".modal\");\n    ActionsManager.closeModal(modalToClose);\n  });\n\n  /*\n    Handler for the add button on the Add a New Favorite menu\n  */\n  $(document).on(\"click\", \".addBtn\",  function(e){\n    e.preventDefault();\n    var titleVal = $(\"#inputTitle\").val();\n    var urlVal = $(\"#inputUrl\").val();\n    urlVal = Util.addHttp(urlVal);\n    var isValidURL = Util.validateURL(urlVal);\n    if(!isValidURL) {\n      $(\".addFormError\").css(\"color\", \"red\");\n      $(\".addFormError\").text(\"Please enter a valid URL\").show();\n    }\n    var imageVal = $(\"#inputImage\").val();\n    imageVal = Util.addHttp(imageVal);\n    var isValidImgURL = Util.validateURL(imageVal);\n    if(!isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid Image URL\").show();\n    }\n    if(!isValidURL && !isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid URL & Image URL\").show();\n    }\n    if((titleVal !== \"\") && (urlVal !== \"\" && isValidURL) && (imageVal !== \"\" && isValidImgURL)){\n      var newEntry = {\n        \"title\" : titleVal,\n        \"url\" : urlVal,\n        \"bgImg\" : imageVal\n      };\n      FavoritesManager.saveFavorite(newEntry, NTInstance);\n\n      if ($(\".modal\").length !== null) {\n        ActionsManager.closeModal($(\".modal\"));\n      }\n      $(\".addFormError\").hide();\n    }\n    else {\n      $(\".addFormError\").show();\n    }\n  });\n  /*\n    Handler for the accept changes in edit favorite menu\n  */\n  // $(document).on(\"click\", \".editBtn\", function(e){\n  //   var itemToEdit = NTInstance.editedItem;\n  //   console.log(itemToEdit);\n  //   e.preventDefault();\n  //   var titleVal = itemToEdit[0].dataset.title;\n  //   var urlVal = $(\"#editInputUrl\").val();\n  //   var imageVal = $(\"#editInputImage\").val();\n  //   var newEntry = {\n  //     \"title\" : titleVal,\n  //     \"url\" : urlVal,\n  //     \"bgImg\" : imageVal\n  //   };\n  //   saveFavorite(newEntry);\n  //\n  //   var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n  //   for (var i = 0; i < savedFavorites.length; i++) {\n  //     if(savedFavorites[i].url === itemToEdit.url) {\n  //       savedFavorites.splice(i, 1);\n  //     }\n  //   }\n  //   NTInstance.setSetting(\"savedFavorites\", savedFavorites);\n  //   if ($(\".modal\").length !== null) {\n  //     closeModal($(\".modal\"));\n  //   }\n  //   $(itemToEdit).remove();\n  //   NTInstance.editedItem = null;\n  // });\n\n\n  $(document).on(\"click\", \".updateBtn\", function() {\n    var newImageURL = $(\"input[name=themeBGImage]\").val();\n    var isValidURL = Util.validateURL(newImageURL);\n    if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", newImageURL);\n      $(\"body\").css(\"background-image\", \"url('\" + newImageURL + \"')\");\n    }\n    else {\n      $(\".bgURLError\").show();\n    }\n  });\n  $(document).on(\"click\", \".removeBtn\", function() {\n    $(\"input[name=themeBGImage]\").val(\"\");\n    // var isValidURL = validateURL(newImageURL);\n    // if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", null);\n      $(\"body\").css(\"background-image\", \"none\");\n      $(\".bgURLError\").hide();\n    // }\n  });\n\n  $('input[type=radio][name=theme-select]').change(function() {\n    NTInstance.setSetting(\"userTheme\", this.value);\n    if (this.value === 'light') {\n      $(\"body, .modal\").css(\"background\", \"white\");\n      $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span, .addFormError\").css(\"color\", \"black\");\n      $(\".favorite\").css(\"border\", \"1.5px solid black\");\n      $(\".favorite i, .popFav\").css(\"color\", \"white\");\n\n    }\n    else if (this.value === 'dark') {\n      $(\"body, .modal\").css(\"background\", \"#3c3c3c\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".favorite\").css(\"border\", \"1.5px solid #d4d6e9\");\n\n    }\n\n    else if (this.value === \"fade\") {\n      $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".headerPanel\").css(\"border\", \"none\");\n    }\n  });\n\n\n  $(document).on(\"change\", \".hoverOption\", function() {\n    var hoverSelected = $(this).val();\n    ActionsManager.setHover(hoverSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".fontOption\", function() {\n    var fontSelected = $(this).val();\n    ActionsManager.setFont(fontSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".favoriteSize\", function() {\n    var sizeSelected = $(this).val();\n    ActionsManager.setSize(sizeSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".themeBGImageRepeat\", function() {\n    var bgStyleSelected = $(this).val();\n    ActionsManager.setBGStyle(bgStyleSelected, NTInstance);\n  });\n  /*\n    Handlers for edit mode options on each of the favorites\n  */\n  $(document).on(\"click\", \".optDel\", function(e) {\n    e.preventDefault();\n    var favorite = $(this).parent();\n    var linkToDelete = favorite.attr(\"href\");\n    FavoritesManager.deleteFavorite(linkToDelete, NTInstance);\n    $(this).parent().remove();\n  });\n  // $(document).on(\"click\", \".optEdit\", function(e) {\n  //   e.preventDefault();\n  //   // Open Edit Modal\n  //   NTInstance.editedItem = $(this).parent();\n  //   var favorite = $(this).parent();\n  //   $(\".editedItem\").text(favorite[0].dataset.title);\n  //   favorite.addClass(\"changingVals\");\n  //   triggerModal($(\".editModal\"));\n  //   $(\"#editInputUrl\").focus();\n  //\n  // });\n  $(document).on(\"click\", \".favorite\", function(e) {\n    if($(this).hasClass(\"editing\"))\n      e.preventDefault();\n  });\n});\n\n},{\"./actions.js\":1,\"./createCalendar.js\":2,\"./favorites.js\":3,\"./util.js\":5}],5:[function(require,module,exports){\n// const $ = require(\"jquery\");\nmodule.exports = {\n  getCookie,\n  compareLists,\n  getPromise,\n  getCurrentTime,\n  getParameterByName,\n  getBrowser,\n  getBrowserSetting,\n  setBrowserSetting,\n  jsonp,\n  validateURL,\n  addHttp\n};\n\n// Check if two lists are equal\nfunction compareLists(list1, list2) {\n  // If they aren't the same length\n  if(list1.length !== list2.length) return false;\n  for (var i = 0; i < list1.length; i++) {\n    if(list2.indexOf(list1[i]) === -1) return false;\n  }\n  return true;\n}\n// Returns a promise object\nfunction getPromise(data) {\n  return $.ajax(data);\n}\n\n// Returns the current time as a string like \"5:30 pm\"\nfunction getCurrentTime() {\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  return currentTime.toLowerCase();\n}\n\n// Uses chrome api to retrieve cookie name and value\nfunction getCookie(cookieInfo = { domain: \"\", name: \"\"}) {\n\n  if(cookieInfo.domain === \"\" && cookieInfo.name === \"\") return;\n\n  var p = new Promise((resolve, reject) => {\n    // Gets Cookies\n    if(getBrowser() === \"chrome\"){\n      chrome.cookies.getAll(cookieInfo, function(res) {\n        // If cookie exists pass value into exists callback\n        if(res.length > 0 && typeof res[0].value !== 'undefined'){\n          var catFromCookie = JSON.stringify([res[0].value]);\n          resolve(catFromCookie);\n          // if(typeof exists === \"function\") exists(catFromCookie);\n        }\n        // If it doesn't call absent() callback\n        else {\n          resolve(\"\");\n          // if(typeof absent === \"function\") absent();\n        }\n      });\n    }\n    // Requires to be on same domain\n    else {\n      var name = cookieInfo.name + \"=\";\n      var ca = document.cookie.split(';');\n      var val;\n      for(var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            val = c.substring(name.length, c.length);\n            resolve(val);\n        }\n      }\n      val = \"\";\n      resolve(val);\n    }\n  });\n\n  return p;\n\n}\n\nfunction getParameterByName(name) {\n  var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n  if(match !== null) {\n    if(typeof match[1] !== \"undefined\")\n      return decodeURIComponent(match[1].replace(/\\+/g, ' '));\n  }\n}\n\nfunction getBrowser() {\n    var ua = window.navigator.userAgent || \"\";\n    if (ua.indexOf(\"Chrome\") > -1) {\n        if (ua.indexOf(\"Edge\") == -1) {\n            return \"chrome\";\n        } else {\n            return \"other\";\n        }\n    } else if (ua.indexOf(\"Firefox\") > -1) {\n        return \"firefox\";\n    } else if (ua.indexOf(\"MSIE 8.0\") > -1) {\n\n        return \"ie8\";\n    } else {\n\n        // Any other browser logic\n        return \"other\";\n    }\n}\n\nfunction setBrowserSetting(name, value) {\n  var browser = getBrowser();\n  var background, NTInstance;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    // console.log(\"ayy\", chrome.extension.getBackgroundPage());\n    background = chrome.extension.getBackgroundPage();\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      NTInstance.setSetting(name, value);\n      // console.log(name, value);\n    }\n  }\n  else {\n    localStorage.setItem(name, value);\n  }\n}\nfunction getBrowserSetting(name, defValue) {\n  var background, NTInstance;\n  var browser = getBrowser();\n  var settingVal;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      settingVal = NTInstance.getSetting(name, defValue);\n\n    }\n  }\n  else {\n    settingVal = localStorage.getItem(name);\n    if(settingVal === null) settingVal = defValue;\n  }\n  // console.log(name, defValue, settingVal);\n  return settingVal;\n}\n\nfunction jsonp(url, callback) {\n  var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n  window[callbackName] = function(data) {\n      delete window[callbackName];\n      document.head.removeChild(script);\n      callback(data);\n  };\n\n  var script = document.createElement('script');\n  script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n  document.head.appendChild(script);\n}\n\nfunction validateURL (url) {\n  // var regex = \"\";\n  // console.log(typeof regex, url.match(regex));\n  if(url.match(/(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\&\\.\\-]*)*\\/?/) === null){\n    return false;\n  }\n  else return true;\n}\n\nfunction addHttp (url) {\n  var newUrl;\n  if(url.match(/^(https?:\\/\\/)/) === null){\n    var addHttp = \"http://\";\n    newUrl = addHttp.concat(url);\n    return newUrl;\n  }\n  return url;\n};\n\n},{}]},{},[4])\n\n","// Calendar\nlet d = new Date();\nlet month_name = ['January',\n                  'February',\n                  'March',\n                  'April',\n                  'May',\n                  'June',\n                  'July',\n                  'August',\n                  'September',\n                  'October',\n                  'November',\n                  'December'];\n\nlet month = d.getMonth(); // 0 - 11\nlet year = d.getFullYear(); // 2016\nlet today = d.getDate(); // 23\n\n// January 1 2016\nlet first_date = month_name[month] + \" \" + 1 + \" \" + year;\n\n\n\n// Sun January 1 2016\nlet tmp = new Date(first_date).toDateString();\n// Sun\nlet first_day = tmp.substring(0, 3);\nlet day_name = ['Sun', 'Mon', \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n// [0]\nlet day_no = day_name.indexOf(first_day);\nlet days = new Date(year, month+1, 0).getDate();\nlet table = document.createElement(\"table\");\nlet theCalendar;\n\nlet tr = document.createElement(\"tr\");\nfunction buildCalendar() {\n\n// Row for day labels\nfor(var c = 0; c < 7; c++) {\n  var td = document.createElement(\"td\");\n  var daysOfTheWeek = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  td.innerHTML = daysOfTheWeek[c];\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// Row for blank spaces\ntr = document.createElement(\"tr\");\nfor(c = 0;c < 7; c++) {\n  if(c === day_no) {\n    break;\n  }\n  var td = document.createElement(\"td\");\n  td.innerHTML = \"\";\n  tr.appendChild(td);\n}\n\n// Start counting days of the month\nvar count = 1;\n\nfor(; c < 7; c++) {\n  var td = document.createElement(\"td\");\n\n  td.innerHTML = \"<span>\" + count + \"</span>\";\n  if(count === today){\n    td.classList.add(\"currentDay\");\n  }\n\n  count++;\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// rest of the date rows\nfor(var r = 2; r < 7; r++) {\n\n  tr = document.createElement(\"tr\");\n  for(c = 0; c <  7;c++) {\n    if(count > days) {\n      table.appendChild(tr);\n      return table;\n      //console.log(\"theCalendar: \" + theCalendar);\n    }\n    var td = document.createElement(\"td\");\n    td.innerHTML = \"<span>\" + count + \"</span>\";\n    if(count === today){\n      td.classList.add(\"currentDay\");\n    }\n    count++;\n    tr.appendChild(td);\n  }\n  table.appendChild(tr);\n}\n}\n\ntheCalendar = buildCalendar();\nmodule.exports = {\n  theCalendar,\n  month_name,\n  month,\n  year\n};\n","const Util = require(\"./util.js\");\n// const $ = require(\"jquery\");\n// let NTInstance;\n// let init = function(NT) {\n//   NTInstance = NT;\n// };\n// Add a new favorite to the favorites grid\nlet addFavorite = function (title, url, imageUrl, NTInstance) {\n    var newListEntry = document.createElement(\"LI\");\n    var newFavorite = document.createElement(\"A\");\n    newFavorite.href = url;\n    // console.log(imageExists(imageUrl));\n    $.get(imageUrl)\n      .done(function() {\n        newFavorite.style.backgroundImage = \"url(\" + imageUrl + \")\";\n      }).fail(function() {\n        newFavorite.style.backgroundImage = \"url('/newtab/images/placeholder.png')\";\n    });\n    newFavorite.style.backgroundSize = \"cover\";\n    newFavorite.style.backgroundPosition = \"center center\";\n    newFavorite.style.backgroundRepeat = \"no-repeat\";\n    newFavorite.classList.add(\"favorite\", NTInstance.currentSettings.hover);\n    newFavorite.dataset.title = title;\n    newFavorite.dataset.bgImg = imageUrl;\n    var optDel = document.createElement(\"I\");\n    optDel.classList.add(\"fa\", \"fa-trash-o\", \"fa-lg\", \"fa-fw\", \"optDel\");\n    // var optEdit = document.createElement(\"I\");\n    // optEdit.classList.add(\"fa\", \"fa-pencil\", \"fa-lg\", \"fa-fw\", \"optEdit\");\n    newFavorite.appendChild(optDel);\n    // newFavorite.appendChild(optEdit);\n    newListEntry.appendChild(newFavorite);\n    $(\"#favorites\").append(newListEntry);\n    $(\".favorite\").children().hide();\n};\n\n\n  // Save favorite to local storage\nlet saveFavorite = function(entry, NTInstance) {\n    var currentSaved = [];\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n      currentSaved = savedFavorites;\n    }\n    currentSaved.push(entry);\n    NTInstance.setSetting(\"savedFavorites\" , currentSaved);\n    addFavorite(entry.title, entry.url, entry.bgImg, NTInstance);\n    $(\"#inputUrl\").val(\"\");\n    $(\"#inputImage\").val(\"\");\n  };\n\nlet getPopularFavorites = function () {\n    return $.ajax({\n      url: \"./popularFavs.json\",\n      method: \"GET\"\n    });\n};\n\nlet deleteFavorite = function (delUrl, NTInstance) {\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n    savedFavorites.forEach(function(item, index) {\n      if(item.url === delUrl) {\n        savedFavorites.splice(index, 1);\n      }\n\n    });\n    NTInstance.setSetting(\"savedFavorites\", savedFavorites);\n    }\n};\n\n  // Load saved favorites onload\nlet loadSavedFavorites = function(NTInstance) {\n    var savedItems = [];\n      var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n      if(savedFavorites !== null){\n      savedItems = savedFavorites;\n      savedItems.forEach(function(item) {\n        addFavorite(item.title, item.url, item.bgImg, NTInstance);\n      });\n      }\n};\n\nlet loadPopularFavorites = function (NTInstance) {\n    var popFavs = getPopularFavorites();\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createPopularFavs(response, NTInstance);\n    });\n};\nlet loadDefaultFavorites = function (NTInstance) {\n    var popFavs = Util.getPromise(\"/newtab/defaultFavs.json\");\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createDefaultFavs(response, NTInstance);\n    });\n};\n\nlet createDefaultFavs = function (favorites, NTInstance) {\n    var list = favorites.default_favorites;\n    let savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    console.log(savedFavorites);\n    for(var i = 0; i < list.length; i++){\n      var entry = {\n        \"title\" : list[i].title,\n        \"url\" : list[i].url,\n        \"bgImg\" : list[i].bgImg,\n      };\n      // console.log(entry);\n      if(savedFavorites.indexOf(entry) > -1)\n      saveFavorite(entry, NTInstance);\n    }\n};\n\nlet createPopularFavs = function (favorites, NTInstance) {\n    // console.log(NTInstance, favorites);\n    var list = favorites.popular_favorites;\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    // console.log(\"saved\", savedFavorites, \"list\", list);\n    var match = [];\n    //console.log(NTInstance);\n    for(var i = 0; i < list.length; i++){\n      if(savedFavorites !== null){\n      match = savedFavorites.filter(function(el) {\n        // console.log(\"curr\", el.url, \"list\", list[i].url);\n        return el.url === list[i].url;\n      });\n      // console.log(match);\n      }\n\n      if(match.length === 0){\n        var favHTML = \"<a href='#' class='popFav' data-title=\" + list[i].title + \" data-url=\" + list[i].url + \" data-imgurl=\" + list[i].bgImg +\">\" + list[i].title + \"</a>\";\n        $(\".popularFavs\").append(favHTML);\n      }\n    }\n};\n\nmodule.exports = {\n\n  addFavorite,\n  saveFavorite,\n  getPopularFavorites,\n  deleteFavorite,\n  loadSavedFavorites,\n  loadPopularFavorites,\n  loadDefaultFavorites,\n  createDefaultFavs,\n  createPopularFavs\n};\n","\n// const $ = require(\"jquery\");\n\nconst background = chrome.extension.getBackgroundPage();\nconst NTInstance = background.NTInstance;\nNTInstance.editing = false;\nNTInstance.currentSettings = {\n  \"theme\" : \"light\",\n  \"font\" : \"Work Sans\",\n  \"hover\" : \"hoverPop\",\n  \"background\" : null,\n  \"faveSize\" : \"80\"\n};\n\nchrome.storage.local.get(function(res){\n  console.log(res);\n});\n\nconsole.log(NTInstance.getSetting(\"savedFavorites\"));\n\nconst ActionsManager = require(\"./actions.js\");\nconst Calendar = require(\"./createCalendar.js\");\nconst FavoritesManager = require(\"./favorites.js\");\nconst Util = require(\"./util.js\");\n\n\n$(document).ready(function() {\n\n  ActionsManager.loadUserSettings(NTInstance);\n  FavoritesManager.loadSavedFavorites(NTInstance);\n  FavoritesManager.loadPopularFavorites(NTInstance);\n  ActionsManager.setUserSettings(NTInstance.currentSettings);\n  var calendar = Calendar.theCalendar;\n  // console.log(Calendar);\n  $(\".calendar-head\").html(\"<span>\" + Calendar.month_name[Calendar.month] + \" \" + Calendar.year + \"</span\");\n  $(\".calendar\").append(calendar);\n  $(\"#favorites\").sortable();\n  $(\"#favorites\").sortable(\"disable\");\n\n  chrome.runtime.sendMessage({task: \"checkFirstRun\"}, function(res) {\n    if(res.firstRun){\n      // ActionsManager.showInitialLoad();\n      FavoritesManager.loadDefaultFavorites(NTInstance);\n      ActionsManager.triggerModal($(\".onboardingModal\"));\n      $(\"#obInputTitle\").focus();\n    }\n\n    // Hide edit icons\n    $(\".favorite\").children().hide();\n  });\n\n  // Refresh time every second\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  $('#time').html(currentTime);\n  var currentDate = new Date().toDateString();\n  $('#date').html(currentDate);\n  setInterval(function(){\n    currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n    $('#time').html(currentTime);\n  }, 1000);\n\n  /*\n    Handlers for the top right main user actions menu\n  */\n  $(document).on(\"click\", \".userAction\", function(e) {\n     e.preventDefault();\n     var clickElement = $(this).attr('id');\n     //console.log(clickElement);\n     switch(clickElement) {\n        case \"addFavorite\":\n          if($(\".addModal .popularFavs\").children().length === 0 || $(\".onboardingModal .popularFavs\").children().length === 0){\n            $(\".addExtra\").hide();\n          }\n          var modalToOpen = $(\".addModal\");\n          ActionsManager.triggerModal(modalToOpen);\n          $(\"#inputTitle\").focus();\n          break;\n\n        case 'editMode':\n          e.preventDefault();\n          NTInstance.editing = !NTInstance.editing;\n          $(\".favorite\").toggleClass(\"editing\");\n          $(\".favorite\").children().toggle();\n          if(!NTInstance.editing){\n            ActionsManager.triggerEditMode();\n          }\n          else{\n            ActionsManager.processEditedList(NTInstance);\n          }\n          break;\n\n        case 'openSettings':\n          e.preventDefault();\n          var settingsModal = $(\".settingsModal\");\n          ActionsManager.triggerModal(settingsModal);\n\n          break;\n\n        case 'openOnboarding':\n          e.preventDefault();\n          var onBoardingModal = $(\".onboardingModal\");\n          ActionsManager.triggerModal(onBoardingModal);\n          break;\n\n        case 'openCalendar':\n          e.preventDefault();\n          var calendarModal = $(\".calendarModal\");\n          ActionsManager.triggerModal(calendarModal);\n          break;\n     }\n  });\n\n  /*\n    Handler for the suggested favorites in the Add New Favorite menu\n  */\n  $(document).on(\"click\", \".popFav\", function(e){\n    e.preventDefault();\n    var selection = $(this)[0];\n    var titletoAdd = selection.dataset.title;\n    var urltoAdd = selection.dataset.url;\n    var imgtoAdd = selection.dataset.imgurl;\n\n    var newEntry = {\n      \"title\" : titletoAdd,\n      \"url\" : urltoAdd,\n      \"bgImg\" : imgtoAdd\n    };\n    FavoritesManager.saveFavorite(newEntry, NTInstance);\n    $(this).remove();\n    var allPopFavs = $(\".popularFavs\").children();\n    var popArr = [].slice.call(allPopFavs, 0);\n    var match = popArr.filter(function(el) {\n      return $(el).data(\"url\") === urltoAdd;\n    });\n    $(match).hide();\n    console.log($(\".addModal .popularFavs\").children().length, $(\".onboardingModal .popularFavs\").children().length);\n    if($(\".addModal .popularFavs\").children().length === 0 || $(\".onboardingModal .popularFavs\").children().length === 0) {\n      // console.log(one);\n      $(\".addExtra, .popularFavs\").hide();\n    }\n  });\n/*\n  Handler for close button\n*/\n  $(document).on(\"click\", \".closeBtn\", function(e) {\n    e.preventDefault();\n    var modalToClose = $(this).closest(\".modal\");\n    ActionsManager.closeModal(modalToClose);\n  });\n\n  /*\n    Handler for the add button on the Add a New Favorite menu\n  */\n  $(document).on(\"click\", \".addBtn\",  function(e){\n    e.preventDefault();\n    var titleVal = $(\"#inputTitle\").val();\n    var urlVal = $(\"#inputUrl\").val();\n    urlVal = Util.addHttp(urlVal);\n    var isValidURL = Util.validateURL(urlVal);\n    if(!isValidURL) {\n      $(\".addFormError\").css(\"color\", \"red\");\n      $(\".addFormError\").text(\"Please enter a valid URL\").show();\n    }\n    var imageVal = $(\"#inputImage\").val();\n    imageVal = Util.addHttp(imageVal);\n    var isValidImgURL = Util.validateURL(imageVal);\n    if(!isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid Image URL\").show();\n    }\n    if(!isValidURL && !isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid URL & Image URL\").show();\n    }\n    if((titleVal !== \"\") && (urlVal !== \"\" && isValidURL) && (imageVal !== \"\" && isValidImgURL)){\n      var newEntry = {\n        \"title\" : titleVal,\n        \"url\" : urlVal,\n        \"bgImg\" : imageVal\n      };\n      FavoritesManager.saveFavorite(newEntry, NTInstance);\n\n      if ($(\".modal\").length !== null) {\n        ActionsManager.closeModal($(\".modal\"));\n      }\n      $(\".addFormError\").hide();\n    }\n    else {\n      $(\".addFormError\").show();\n    }\n  });\n  /*\n    Handler for the accept changes in edit favorite menu\n  */\n  // $(document).on(\"click\", \".editBtn\", function(e){\n  //   var itemToEdit = NTInstance.editedItem;\n  //   console.log(itemToEdit);\n  //   e.preventDefault();\n  //   var titleVal = itemToEdit[0].dataset.title;\n  //   var urlVal = $(\"#editInputUrl\").val();\n  //   var imageVal = $(\"#editInputImage\").val();\n  //   var newEntry = {\n  //     \"title\" : titleVal,\n  //     \"url\" : urlVal,\n  //     \"bgImg\" : imageVal\n  //   };\n  //   saveFavorite(newEntry);\n  //\n  //   var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n  //   for (var i = 0; i < savedFavorites.length; i++) {\n  //     if(savedFavorites[i].url === itemToEdit.url) {\n  //       savedFavorites.splice(i, 1);\n  //     }\n  //   }\n  //   NTInstance.setSetting(\"savedFavorites\", savedFavorites);\n  //   if ($(\".modal\").length !== null) {\n  //     closeModal($(\".modal\"));\n  //   }\n  //   $(itemToEdit).remove();\n  //   NTInstance.editedItem = null;\n  // });\n\n\n  $(document).on(\"click\", \".updateBtn\", function() {\n    var newImageURL = $(\"input[name=themeBGImage]\").val();\n    var isValidURL = Util.validateURL(newImageURL);\n    if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", newImageURL);\n      $(\"body\").css(\"background-image\", \"url('\" + newImageURL + \"')\");\n    }\n    else {\n      $(\".bgURLError\").show();\n    }\n  });\n  $(document).on(\"click\", \".removeBtn\", function() {\n    $(\"input[name=themeBGImage]\").val(\"\");\n    // var isValidURL = validateURL(newImageURL);\n    // if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", null);\n      $(\"body\").css(\"background-image\", \"none\");\n      $(\".bgURLError\").hide();\n    // }\n  });\n\n  $('input[type=radio][name=theme-select]').change(function() {\n    NTInstance.setSetting(\"userTheme\", this.value);\n    if (this.value === 'light') {\n      $(\"body, .modal\").css(\"background\", \"white\");\n      $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span, .addFormError\").css(\"color\", \"black\");\n      $(\".favorite\").css(\"border\", \"1.5px solid black\");\n      $(\".favorite i, .popFav\").css(\"color\", \"white\");\n\n    }\n    else if (this.value === 'dark') {\n      $(\"body, .modal\").css(\"background\", \"#3c3c3c\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".favorite\").css(\"border\", \"1.5px solid #d4d6e9\");\n\n    }\n\n    else if (this.value === \"fade\") {\n      $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n      $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n      $(\"input, select, option\").css(\"color\", \"black\");\n      $(\".headerPanel\").css(\"border\", \"none\");\n    }\n  });\n\n\n  $(document).on(\"change\", \".hoverOption\", function() {\n    var hoverSelected = $(this).val();\n    ActionsManager.setHover(hoverSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".fontOption\", function() {\n    var fontSelected = $(this).val();\n    ActionsManager.setFont(fontSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".favoriteSize\", function() {\n    var sizeSelected = $(this).val();\n    ActionsManager.setSize(sizeSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".themeBGImageRepeat\", function() {\n    var bgStyleSelected = $(this).val();\n    ActionsManager.setBGStyle(bgStyleSelected, NTInstance);\n  });\n  /*\n    Handlers for edit mode options on each of the favorites\n  */\n  $(document).on(\"click\", \".optDel\", function(e) {\n    e.preventDefault();\n    var favorite = $(this).parent();\n    var linkToDelete = favorite.attr(\"href\");\n    FavoritesManager.deleteFavorite(linkToDelete, NTInstance);\n    $(this).parent().remove();\n  });\n  // $(document).on(\"click\", \".optEdit\", function(e) {\n  //   e.preventDefault();\n  //   // Open Edit Modal\n  //   NTInstance.editedItem = $(this).parent();\n  //   var favorite = $(this).parent();\n  //   $(\".editedItem\").text(favorite[0].dataset.title);\n  //   favorite.addClass(\"changingVals\");\n  //   triggerModal($(\".editModal\"));\n  //   $(\"#editInputUrl\").focus();\n  //\n  // });\n  $(document).on(\"click\", \".favorite\", function(e) {\n    if($(this).hasClass(\"editing\"))\n      e.preventDefault();\n  });\n});\n","// const $ = require(\"jquery\");\nmodule.exports = {\n  getCookie,\n  compareLists,\n  getPromise,\n  getCurrentTime,\n  getParameterByName,\n  getBrowser,\n  getBrowserSetting,\n  setBrowserSetting,\n  jsonp,\n  validateURL,\n  addHttp\n};\n\n// Check if two lists are equal\nfunction compareLists(list1, list2) {\n  // If they aren't the same length\n  if(list1.length !== list2.length) return false;\n  for (var i = 0; i < list1.length; i++) {\n    if(list2.indexOf(list1[i]) === -1) return false;\n  }\n  return true;\n}\n// Returns a promise object\nfunction getPromise(data) {\n  return $.ajax(data);\n}\n\n// Returns the current time as a string like \"5:30 pm\"\nfunction getCurrentTime() {\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  return currentTime.toLowerCase();\n}\n\n// Uses chrome api to retrieve cookie name and value\nfunction getCookie(cookieInfo = { domain: \"\", name: \"\"}) {\n\n  if(cookieInfo.domain === \"\" && cookieInfo.name === \"\") return;\n\n  var p = new Promise((resolve, reject) => {\n    // Gets Cookies\n    if(getBrowser() === \"chrome\"){\n      chrome.cookies.getAll(cookieInfo, function(res) {\n        // If cookie exists pass value into exists callback\n        if(res.length > 0 && typeof res[0].value !== 'undefined'){\n          var catFromCookie = JSON.stringify([res[0].value]);\n          resolve(catFromCookie);\n          // if(typeof exists === \"function\") exists(catFromCookie);\n        }\n        // If it doesn't call absent() callback\n        else {\n          resolve(\"\");\n          // if(typeof absent === \"function\") absent();\n        }\n      });\n    }\n    // Requires to be on same domain\n    else {\n      var name = cookieInfo.name + \"=\";\n      var ca = document.cookie.split(';');\n      var val;\n      for(var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            val = c.substring(name.length, c.length);\n            resolve(val);\n        }\n      }\n      val = \"\";\n      resolve(val);\n    }\n  });\n\n  return p;\n\n}\n\nfunction getParameterByName(name) {\n  var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n  if(match !== null) {\n    if(typeof match[1] !== \"undefined\")\n      return decodeURIComponent(match[1].replace(/\\+/g, ' '));\n  }\n}\n\nfunction getBrowser() {\n    var ua = window.navigator.userAgent || \"\";\n    if (ua.indexOf(\"Chrome\") > -1) {\n        if (ua.indexOf(\"Edge\") == -1) {\n            return \"chrome\";\n        } else {\n            return \"other\";\n        }\n    } else if (ua.indexOf(\"Firefox\") > -1) {\n        return \"firefox\";\n    } else if (ua.indexOf(\"MSIE 8.0\") > -1) {\n\n        return \"ie8\";\n    } else {\n\n        // Any other browser logic\n        return \"other\";\n    }\n}\n\nfunction setBrowserSetting(name, value) {\n  var browser = getBrowser();\n  var background, NTInstance;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    // console.log(\"ayy\", chrome.extension.getBackgroundPage());\n    background = chrome.extension.getBackgroundPage();\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      NTInstance.setSetting(name, value);\n      // console.log(name, value);\n    }\n  }\n  else {\n    localStorage.setItem(name, value);\n  }\n}\nfunction getBrowserSetting(name, defValue) {\n  var background, NTInstance;\n  var browser = getBrowser();\n  var settingVal;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      settingVal = NTInstance.getSetting(name, defValue);\n\n    }\n  }\n  else {\n    settingVal = localStorage.getItem(name);\n    if(settingVal === null) settingVal = defValue;\n  }\n  // console.log(name, defValue, settingVal);\n  return settingVal;\n}\n\nfunction jsonp(url, callback) {\n  var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n  window[callbackName] = function(data) {\n      delete window[callbackName];\n      document.head.removeChild(script);\n      callback(data);\n  };\n\n  var script = document.createElement('script');\n  script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n  document.head.appendChild(script);\n}\n\nfunction validateURL (url) {\n  // var regex = \"\";\n  // console.log(typeof regex, url.match(regex));\n  if(url.match(/(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\&\\.\\-]*)*\\/?/) === null){\n    return false;\n  }\n  else return true;\n}\n\nfunction addHttp (url) {\n  var newUrl;\n  if(url.match(/^(https?:\\/\\/)/) === null){\n    var addHttp = \"http://\";\n    newUrl = addHttp.concat(url);\n    return newUrl;\n  }\n  return url;\n};\n"]}