{"version":3,"sources":["js/node_modules/browser-pack/_prelude.js","js/js/FavoritesManager.js","js/newtab.js","js/js/SettingsManager.js","js/js/ThemeManager.js","js/js/createCalendar.js","js/js/newtab.js","js/js/todos.js","js/js/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","Util","SettingsManager","addFavorite","title","url","imageUrl","NTInstance","newListEntry","document","createElement","newFavorite","href","$","get","done","style","backgroundImage","fail","backgroundSize","backgroundPosition","backgroundRepeat","classList","add","currentSettings","hover","dataset","bgImg","optDel","appendChild","append","savedFaveSize","getSetting","setSize","children","hide","saveFavorite","entry","currentSaved","savedFavorites","push","setSetting","val","getPopularFavorites","ajax","method","deleteFavorite","delUrl","filteredFavorites","filter","item","loadSavedFavorites","savedItems","forEach","loadPopularFavorites","popFavs","then","res","response","JSON","parse","createPopularFavs","loadDefaultFavorites","getPromise","createDefaultFavs","favorites","list","default_favorites","popular_favorites","match","find","el","undefined","favHTML","after","ThemeManager","loadUserSettings","userTheme","userFont","userHover","userBGImg","userFaveSize","userBGStyle","setUserSettings","settings","cardSizeStr","faveSize","parseInt","setTheme","theme","bgStyle","css","not","font","radios","each","attr","background","setFont","fontName","newFontStack","console","log","setHover","hoverName","addClass","removeClass","sizeVal","setBGStyle","styleVal","currentTheme","loadTheme","themeName","setFadeTheme","setLightTheme","setDarkTheme","setBrowserSetting","getBrowserSetting","themeManager","d","Date","month_name","month","getMonth","year","getFullYear","today","getDate","first_date","tmp","toDateString","first_day","substring","day_name","day_no","indexOf","days","table","theCalendar","tr","buildCalendar","c","td","daysOfTheWeek","innerHTML","count","chrome","extension","getBackgroundPage","editing","Calendar","FavoritesManager","Todos","ready","calendar","html","sortable","runtime","sendMessage","task","firstRun","triggerModal","focus","$todoList","savedTodos","getSavedTodos","addNewTodoToDOM","hidePopFaves","currentTime","toLocaleTimeString","navigator","language","hour","minute","currentDate","setInterval","on","preventDefault","clickElement","modalToOpen","toggleClass","toggle","newFaves","slice","reorderedFaves","newFave","settingsModal","calendarModal","todosModal","selection","titletoAdd","urltoAdd","imgtoAdd","imgurl","newEntry","remove","allPopFavs","popArr","data","modalToClose","closest","closeModal","titleVal","urlVal","addHttp","isValidURL","validateURL","text","show","imageVal","isValidImgURL","newImageURL","change","value","hoverSelected","fontSelected","sizeSelected","bgStyleSelected","linkToDelete","parent","hasClass","$newTodo","saveTodo","submit","childCheckbox","prop","saveTodoList","clearAllTodos","modal","fadeIn","fadeOut","todo","location","isDone","isChecked","complete","todoHTML","newTodoItem","existingTodos","currentTodos","updatedTodos","todoEntry","getCookie","compareLists","getCurrentTime","getParameterByName","getBrowser","jsonp","list1","list2","toLowerCase","cookieInfo","domain","name","p","Promise","resolve","reject","cookies","getAll","catFromCookie","stringify","ca","cookie","split","charAt","RegExp","exec","window","search","decodeURIComponent","replace","ua","userAgent","browser","localStorage","setItem","defValue","settingVal","getItem","callback","callbackName","Math","round","random","head","removeChild","script","src","newUrl","concat"],"mappings":"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","file":"newtab.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const Util = require(\"./util.js\");\nconst SettingsManager = require(\"./SettingsManager.js\");\n\n// Add a new favorite to the favorites grid\nfunction addFavorite (title, url, imageUrl, NTInstance) {\n    var newListEntry = document.createElement(\"LI\");\n    var newFavorite = document.createElement(\"A\");\n    newFavorite.href = url;\n    $.get(imageUrl)\n      .done(function() {\n        newFavorite.style.backgroundImage = \"url(\" + imageUrl + \")\";\n      }).fail(function() {\n        newFavorite.style.backgroundImage = \"url('/newtab/images/placeholder.png')\";\n    });\n    newFavorite.style.backgroundSize = \"cover\";\n    newFavorite.style.backgroundPosition = \"center center\";\n    newFavorite.style.backgroundRepeat = \"no-repeat\";\n    newFavorite.classList.add(\"favorite\", NTInstance.currentSettings.hover);\n    newFavorite.dataset.title = title;\n    newFavorite.dataset.bgImg = imageUrl;\n    var optDel = document.createElement(\"I\");\n    optDel.classList.add(\"fa\", \"fa-trash-o\", \"fa-lg\", \"fa-fw\", \"optDel\");\n    // var optTag = document.createElement(\"I\");\n    // optTag.classList.add(\"fa\", \"fa-tag\", \"fa-lg\", \"fa-fw\", \"optTag\");\n    newFavorite.appendChild(optDel);\n    // newFavorite.appendChild(optTag);\n    newListEntry.appendChild(newFavorite);\n    $(\"#favorites\").append(newListEntry);\n    let savedFaveSize = NTInstance.getSetting(\"userFaveSize\", \"60\");\n    SettingsManager.setSize(savedFaveSize, NTInstance);\n    $(\".favorite\").children().hide();\n}\n\n\n  // Save favorite to local storage\nfunction saveFavorite(entry, NTInstance) {\n    var currentSaved = [];\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n      currentSaved = savedFavorites;\n    }\n    currentSaved.push(entry);\n    NTInstance.setSetting(\"savedFavorites\" , currentSaved);\n    addFavorite(entry.title, entry.url, entry.bgImg, NTInstance);\n    $(\"#inputUrl\").val(\"\");\n    $(\"#inputImage\").val(\"\");\n  }\n\nfunction getPopularFavorites () {\n    return $.ajax({\n      url: \"./popularFavs.json\",\n      method: \"GET\"\n    });\n}\n\nfunction deleteFavorite (delUrl, NTInstance) {\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n    let filteredFavorites = savedFavorites.filter((item) => {\n      if(item.url !== delUrl) return true;\n    });\n    NTInstance.setSetting(\"savedFavorites\", filteredFavorites);\n    }\n}\n\n  // Load saved favorites onload\nfunction loadSavedFavorites(NTInstance) {\n    var savedItems = [];\n      var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n      if(savedFavorites !== null){\n      savedItems = savedFavorites;\n      savedItems.forEach(function(item) {\n        addFavorite(item.title, item.url, item.bgImg, NTInstance);\n      });\n      }\n}\n\nfunction loadPopularFavorites (NTInstance) {\n    var popFavs = getPopularFavorites();\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createPopularFavs(response, NTInstance);\n    });\n}\nfunction loadDefaultFavorites (NTInstance) {\n    var popFavs = Util.getPromise(\"/newtab/defaultFavs.json\");\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createDefaultFavs(response, NTInstance);\n    });\n}\n\nfunction createDefaultFavs (favorites, NTInstance) {\n    var list = favorites.default_favorites;\n\n    for(var i = 0; i < list.length; i++){\n      var entry = {\n        \"title\" : list[i].title,\n        \"url\" : list[i].url,\n        \"bgImg\" : list[i].bgImg,\n      };\n      saveFavorite(entry, NTInstance);\n    }\n}\n\nfunction createPopularFavs (favorites, NTInstance) {\n\n    var list = favorites.popular_favorites;\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n\n    var match;\n    for(var i = 0; i < list.length; i++){\n      if(savedFavorites !== null){\n        match = savedFavorites.find((el) => {\n          return el.url === list[i].url;\n        });\n      }\n      if(match === undefined){\n        var favHTML = \"<a href='#' class='popFav' data-title=\" + list[i].title + \" data-url=\" + list[i].url + \" data-imgurl=\" + list[i].bgImg +\">\" + list[i].title + \"</a>\";\n        $(\".popularFavs\").append(favHTML);\n\n      }\n    }\n    $(\".popularFavs\").after(`<a href=\"#\" class=\"hidePopFaves\">Never Show Again</a>`);\n}\n\nmodule.exports = {\n  addFavorite,\n  saveFavorite,\n  getPopularFavorites,\n  deleteFavorite,\n  loadSavedFavorites,\n  loadPopularFavorites,\n  loadDefaultFavorites,\n  createDefaultFavs,\n  createPopularFavs\n};\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconst Util = require(\"./util.js\");\nconst SettingsManager = require(\"./SettingsManager.js\");\n\n// Add a new favorite to the favorites grid\nfunction addFavorite (title, url, imageUrl, NTInstance) {\n    var newListEntry = document.createElement(\"LI\");\n    var newFavorite = document.createElement(\"A\");\n    newFavorite.href = url;\n    $.get(imageUrl)\n      .done(function() {\n        newFavorite.style.backgroundImage = \"url(\" + imageUrl + \")\";\n      }).fail(function() {\n        newFavorite.style.backgroundImage = \"url('/newtab/images/placeholder.png')\";\n    });\n    newFavorite.style.backgroundSize = \"cover\";\n    newFavorite.style.backgroundPosition = \"center center\";\n    newFavorite.style.backgroundRepeat = \"no-repeat\";\n    newFavorite.classList.add(\"favorite\", NTInstance.currentSettings.hover);\n    newFavorite.dataset.title = title;\n    newFavorite.dataset.bgImg = imageUrl;\n    var optDel = document.createElement(\"I\");\n    optDel.classList.add(\"fa\", \"fa-trash-o\", \"fa-lg\", \"fa-fw\", \"optDel\");\n    // var optTag = document.createElement(\"I\");\n    // optTag.classList.add(\"fa\", \"fa-tag\", \"fa-lg\", \"fa-fw\", \"optTag\");\n    newFavorite.appendChild(optDel);\n    // newFavorite.appendChild(optTag);\n    newListEntry.appendChild(newFavorite);\n    $(\"#favorites\").append(newListEntry);\n    let savedFaveSize = NTInstance.getSetting(\"userFaveSize\", \"60\");\n    SettingsManager.setSize(savedFaveSize, NTInstance);\n    $(\".favorite\").children().hide();\n}\n\n\n  // Save favorite to local storage\nfunction saveFavorite(entry, NTInstance) {\n    var currentSaved = [];\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n      currentSaved = savedFavorites;\n    }\n    currentSaved.push(entry);\n    NTInstance.setSetting(\"savedFavorites\" , currentSaved);\n    addFavorite(entry.title, entry.url, entry.bgImg, NTInstance);\n    $(\"#inputUrl\").val(\"\");\n    $(\"#inputImage\").val(\"\");\n  }\n\nfunction getPopularFavorites () {\n    return $.ajax({\n      url: \"./popularFavs.json\",\n      method: \"GET\"\n    });\n}\n\nfunction deleteFavorite (delUrl, NTInstance) {\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n    if(savedFavorites !== null){\n    let filteredFavorites = savedFavorites.filter((item) => {\n      if(item.url !== delUrl) return true;\n    });\n    NTInstance.setSetting(\"savedFavorites\", filteredFavorites);\n    }\n}\n\n  // Load saved favorites onload\nfunction loadSavedFavorites(NTInstance) {\n    var savedItems = [];\n      var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n      if(savedFavorites !== null){\n      savedItems = savedFavorites;\n      savedItems.forEach(function(item) {\n        addFavorite(item.title, item.url, item.bgImg, NTInstance);\n      });\n      }\n}\n\nfunction loadPopularFavorites (NTInstance) {\n    var popFavs = getPopularFavorites();\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createPopularFavs(response, NTInstance);\n    });\n}\nfunction loadDefaultFavorites (NTInstance) {\n    var popFavs = Util.getPromise(\"/newtab/defaultFavs.json\");\n    popFavs.then(function(res) {\n      var response = JSON.parse(res);\n      createDefaultFavs(response, NTInstance);\n    });\n}\n\nfunction createDefaultFavs (favorites, NTInstance) {\n    var list = favorites.default_favorites;\n\n    for(var i = 0; i < list.length; i++){\n      var entry = {\n        \"title\" : list[i].title,\n        \"url\" : list[i].url,\n        \"bgImg\" : list[i].bgImg,\n      };\n      saveFavorite(entry, NTInstance);\n    }\n}\n\nfunction createPopularFavs (favorites, NTInstance) {\n\n    var list = favorites.popular_favorites;\n    var savedFavorites = NTInstance.getSetting(\"savedFavorites\", null);\n\n    var match;\n    for(var i = 0; i < list.length; i++){\n      if(savedFavorites !== null){\n        match = savedFavorites.find((el) => {\n          return el.url === list[i].url;\n        });\n      }\n      if(match === undefined){\n        var favHTML = \"<a href='#' class='popFav' data-title=\" + list[i].title + \" data-url=\" + list[i].url + \" data-imgurl=\" + list[i].bgImg +\">\" + list[i].title + \"</a>\";\n        $(\".popularFavs\").append(favHTML);\n\n      }\n    }\n    $(\".popularFavs\").after(`<a href=\"#\" class=\"hidePopFaves\">Never Show Again</a>`);\n}\n\nmodule.exports = {\n  addFavorite,\n  saveFavorite,\n  getPopularFavorites,\n  deleteFavorite,\n  loadSavedFavorites,\n  loadPopularFavorites,\n  loadDefaultFavorites,\n  createDefaultFavs,\n  createPopularFavs\n};\n\n},{\"./SettingsManager.js\":2,\"./util.js\":7}],2:[function(require,module,exports){\n// const $ = require(\"jquery\");\nconst ThemeManager = require(\"./ThemeManager.js\");\n// Prompt user for image to use for bookmark\n// and also the url.  Append to favorites\n\n\n\n\nfunction loadUserSettings(NTInstance) {\n    var userTheme = NTInstance.getSetting(\"userTheme\", \"fade\");\n    var userFont = NTInstance.getSetting(\"userFont\", \"Montserrat\");\n    var userHover = NTInstance.getSetting(\"userHover\", \"hoverPop\");\n    var userBGImg = NTInstance.getSetting(\"userThemeBG\", null);\n    var userFaveSize = NTInstance.getSetting(\"userFaveSize\", \"80\");\n    var userBGStyle = NTInstance.getSetting(\"userBGStyle\", \"repeat\");\n    NTInstance.currentSettings = {\n      \"theme\" : userTheme,\n      \"font\" : userFont,\n      \"hover\" : userHover,\n      \"background\" : userBGImg,\n      \"faveSize\" : userFaveSize,\n      \"bgStyle\" : userBGStyle\n    };\n    // console.log(NTInstance.currentSettings);\n}\nfunction setUserSettings (settings) {\n    let cardSizeStr = settings.faveSize + \"px \" + (parseInt(settings.faveSize) + 40) + \"px\";\n\n    // Set Theme Styles\n    ThemeManager.setTheme(settings.theme);\n    // Set BG Image Style\n    if(settings.bgStyle === \"cover\"){\n      $(\"body\").css(\"background-size\", settings.bgStyle);\n    }\n    else {\n      $(\"body\").css(\"background-repeat\", settings.bgStyle);\n      $(\"body\").css(\"background-size\", \"auto\");\n\n    }\n    // Set Font\n    $(\"*\").not(\"i, h3, label\").css(\"font-family\", settings.font);\n\n    var radios = $(\"input[name=theme-select]\");\n    $(radios).each(function(i, el) {\n      if($(el).val() === settings.theme)\n        $(el).attr(\"checked\", \"checked\");\n    });\n    // Set Background\n    if(settings.background !== null) {\n      $(\"body\").css(\"background-image\", \"url(\" + settings.background +\")\");\n      $(\"input[name=themeBGImage]\").val(settings.background);\n    }\n    // Set Settings Options to their saved values\n    $(\".themeBGImageRepeat\").val(settings.bgStyle);\n    $(\".favoriteSize\").val(settings.faveSize);\n    $(\"select.fontOption\").val(settings.font);\n    $(\"select.hoverOption\").val(settings.hover);\n\n\n  }\n\nfunction setFont(fontName, NTInstance) {\n    let newFontStack = fontName;\n    NTInstance.setSetting(\"userFont\", newFontStack);\n    console.log(newFontStack);\n    $(\"*\").not(\"i, .settingsBtn, .removeBtn, .addBtn, .clearBtn\").css(\"font-family\", newFontStack);\n}\n\nfunction setHover(hoverName, NTInstance) {\n  NTInstance.setSetting(\"userHover\", hoverName);\n  switch(hoverName) {\n\n    case \"hoverPop\":\n    $(\".favorite\").addClass(\"hoverPop\").removeClass(\"hoverNone hoverHighlight\");\n    break;\n\n    case \"hoverHighlight\":\n    $(\".favorite\").addClass(\"hoverHighlight\").removeClass(\"hoverNone hoverPop\");\n    break;\n\n    case \"hoverNone\":\n    $(\".favorite\").addClass(\"hoverNone\").removeClass(\"hoverPop hoverHighlight\");\n    break;\n  }\n  //$(\".favorite\").addClass(hoverName).removeClass(\"hoverNone hoverHighlight\");\n}\n\nfunction setSize(sizeVal, NTInstance) {\n  NTInstance.setSetting(\"userFaveSize\", sizeVal);\n  let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n  $(\".favorite\").css({\n    \"padding\" : cardSizeStr,\n    \"transition\" : \"0.4s padding, 0.3s transform, 0.3s margin\"\n  });\n}\n function setBGStyle(styleVal, NTInstance) {\n  NTInstance.setSetting(\"userBGStyle\", styleVal);\n  if(styleVal === \"cover\"){\n    $(\"body\").css(\"background-size\", styleVal);\n  }\n  else {\n    $(\"body\").css(\"background-repeat\", styleVal);\n    $(\"body\").css(\"background-size\", \"auto\");\n  }\n  // let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n}\n\nmodule.exports = {\n  loadUserSettings,\n  setUserSettings,\n  setFont,\n  setHover,\n  setSize,\n  setBGStyle\n};\n\n},{\"./ThemeManager.js\":3}],3:[function(require,module,exports){\nconst Util = require(\"./util.js\");\n\nclass ThemeManager {\n  constructor() {\n    this.currentTheme = \"fade\";\n  }\n\n  init() {\n    this.loadTheme();\n  }\n\n  getTheme() {\n    return this.currentTheme;\n  }\n\n  setTheme(themeName) {\n    switch(themeName) {\n      case \"fade\" :\n        this.setFadeTheme();\n        break;\n      case \"light\" :\n        this.setLightTheme();\n        break;\n      case \"dark\" :\n        this.setDarkTheme();\n        break;\n      default:\n        this.setFadeTheme();\n        break;\n    }\n  }\n\n  setFadeTheme() {\n    $(\"body\").css({\"background\" : \"white\"});\n    $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n    $(\"*\").not(\".bgURLError, h3, i, .clearBtn, .addBtn, .settingsBtn, .removeBtn\").css(\"color\", \"white\");\n    $(\"h3\").css(\"color\", \"#333\");\n    // $(\"input, select, option\").css(\"color\", \"white\");\n    $(\".favorite\").css({\"border\" : \".5px solid black\"});\n    $(\".headerPanel\").css(\"border\", \"none\");\n  }\n  setLightTheme() {\n    $(\"body, .modal, .headerPanel\").css({\"background\" : \"white\"});\n    $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span, .addFormError, .addTodo, .clearBtn, input\").css(\"color\", \"black\");\n    $(\".favorite\").css({\"border\" : \".5px solid black\"});\n    $(\".favorite i, .popFav, .addTodo i\").css(\"color\", \"white\");\n  }\n  setDarkTheme() {\n    $(\"body, .modal, .headerPanel\").css({\"background\": \"#3c3c3c\"});\n    $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n    $(\"input, select, option\").css(\"color\", \"black\");\n    $(\".favorite\").css({\"border\" : \"none\"});\n    // $(\".favorite\").css({\"border\": \"1.5px solid #999\", \"boxShadow\" : \"0px 1px 1px 1px #666\"});\n  }\n\n\n  saveTheme(theme) {\n    Util.setBrowserSetting(\"currentTheme\", theme);\n  }\n\n  loadTheme() {\n    let currentTheme = Util.getBrowserSetting(\"currentTheme\", \"fade\");\n    this.setTheme(currentTheme);\n  }\n\n}\n\nconst themeManager = new ThemeManager();\nmodule.exports = themeManager;\n\n},{\"./util.js\":7}],4:[function(require,module,exports){\n// Calendar\nlet d = new Date();\nlet month_name = ['January',\n                  'February',\n                  'March',\n                  'April',\n                  'May',\n                  'June',\n                  'July',\n                  'August',\n                  'September',\n                  'October',\n                  'November',\n                  'December'];\n\nlet month = d.getMonth(); // 0 - 11\nlet year = d.getFullYear(); // 2016\nlet today = d.getDate(); // 23\n\n// January 1 2016\nlet first_date = month_name[month] + \" \" + 1 + \" \" + year;\n\n\n\n// Sun January 1 2016\nlet tmp = new Date(first_date).toDateString();\n// Sun\nlet first_day = tmp.substring(0, 3);\nlet day_name = ['Sun', 'Mon', \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n// [0]\nlet day_no = day_name.indexOf(first_day);\nlet days = new Date(year, month+1, 0).getDate();\nlet table = document.createElement(\"table\");\nlet theCalendar;\n\nlet tr = document.createElement(\"tr\");\nfunction buildCalendar() {\n\n// Row for day labels\nfor(var c = 0; c < 7; c++) {\n  var td = document.createElement(\"td\");\n  var daysOfTheWeek = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  td.innerHTML = daysOfTheWeek[c];\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// Row for blank spaces\ntr = document.createElement(\"tr\");\nfor(c = 0;c < 7; c++) {\n  if(c === day_no) {\n    break;\n  }\n  var td = document.createElement(\"td\");\n  td.innerHTML = \"\";\n  tr.appendChild(td);\n}\n\n// Start counting days of the month\nvar count = 1;\n\nfor(; c < 7; c++) {\n  var td = document.createElement(\"td\");\n\n  td.innerHTML = \"<span>\" + count + \"</span>\";\n  if(count === today){\n    td.classList.add(\"currentDay\");\n  }\n\n  count++;\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// rest of the date rows\nfor(var r = 2; r < 7; r++) {\n\n  tr = document.createElement(\"tr\");\n  for(c = 0; c <  7;c++) {\n    if(count > days) {\n      table.appendChild(tr);\n      return table;\n      //console.log(\"theCalendar: \" + theCalendar);\n    }\n    var td = document.createElement(\"td\");\n    td.innerHTML = \"<span>\" + count + \"</span>\";\n    if(count === today){\n      td.classList.add(\"currentDay\");\n    }\n    count++;\n    tr.appendChild(td);\n  }\n  table.appendChild(tr);\n}\n}\n\ntheCalendar = buildCalendar();\nmodule.exports = {\n  theCalendar,\n  month_name,\n  month,\n  year\n};\n\n},{}],5:[function(require,module,exports){\nconst background = chrome.extension.getBackgroundPage();\nconst NTInstance = background.NTInstance;\nNTInstance.editing = false;\nNTInstance.currentSettings = {\n  \"theme\" : \"light\",\n  \"font\" : \"Montserrat\",\n  \"hover\" : \"hoverPop\",\n  \"background\" : null,\n  \"faveSize\" : \"60\"\n};\n// chrome.storage.local.get(function(res){\n//   console.log(res);\n// });\n\nconst SettingsManager = require(\"./SettingsManager.js\");\nconst Calendar = require(\"./createCalendar.js\");\nconst FavoritesManager = require(\"./FavoritesManager.js\");\nconst Util = require(\"./util.js\");\nconst Todos = require(\"./todos.js\");\nconst ThemeManager = require(\"./ThemeManager.js\");\n\n\n$(document).ready(function() {\n  SettingsManager.loadUserSettings(NTInstance);\n  FavoritesManager.loadSavedFavorites(NTInstance);\n  FavoritesManager.loadPopularFavorites(NTInstance);\n  SettingsManager.setUserSettings(NTInstance.currentSettings);\n  var calendar = Calendar.theCalendar;\n  $(\".calendar-head\").html(\"<span>\" + Calendar.month_name[Calendar.month] + \" \" + Calendar.year + \"</span\");\n  $(\".calendar\").append(calendar);\n  $(\"#favorites\").sortable();\n  $(\"#favorites\").sortable(\"disable\");\n  chrome.runtime.sendMessage({task: \"checkFirstRun\"}, function(res) {\n    if(res.firstRun){\n      FavoritesManager.loadDefaultFavorites(NTInstance);\n      triggerModal($(\".addModal\"));\n      $(\"#obInputTitle\").focus();\n    }\n    else {\n      let $todoList = $(\".todos\");\n      var savedTodos = Todos.getSavedTodos();\n      savedTodos.forEach((el) => {\n        Todos.addNewTodoToDOM(el, $todoList);\n      });\n      let hidePopFaves = NTInstance.getSetting(\"hidePopFaves\", false);\n\n      if(hidePopFaves) {\n        $(\".popularFavs, .addExtra, .hidePopFaves\").hide();\n      }\n    }\n\n    // Hide edit icons\n    $(\".favorite\").children().hide();\n  });\n\n  // Refresh time every second\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  $('#time').html(currentTime);\n  var currentDate = new Date().toDateString();\n  $('#date').html(currentDate);\n  setInterval(function(){\n    currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n    $('#time').html(currentTime);\n  }, 1000);\n  /*\n    Handlers for the top right main user actions menu\n  */\n  $(document).on(\"click\", \".userAction\", function(e) {\n     e.preventDefault();\n     var clickElement = $(this).attr('id');\n\n     switch(clickElement) {\n        case \"addFavorite\":\n          e.preventDefault();\n          if($(\".addModal .popularFavs\").children().length === 0){\n            $(\".addExtra\").hide();\n          }\n          var modalToOpen = $(\".addModal\");\n          triggerModal(modalToOpen);\n          $(\"#inputTitle\").focus();\n          break;\n\n        case 'editMode':\n          e.preventDefault();\n          $(\".favorite\").toggleClass(\"editing\");\n          $(\".favorite\").children().toggle();\n          if(!NTInstance.editing){\n            $(\"#favorites\").sortable(\"enable\");\n          }\n          else{\n            $(\"#favorites\").sortable(\"disable\");\n            let newFaves = [].slice.call($(\".favorite\"),0);\n            let reorderedFaves = [];\n              newFaves.forEach((el) => {\n              let { title, bgImg } = el.dataset;\n              let newFave = {\n                \"title\" : title,\n                \"url\" : el.href,\n                \"bgImg\" : bgImg\n              };\n              reorderedFaves.push(newFave);\n            });\n            NTInstance.setSetting(\"savedFavorites\", reorderedFaves);\n          }\n          NTInstance.editing = !NTInstance.editing;\n          break;\n\n        case 'openSettings':\n          e.preventDefault();\n          var settingsModal = $(\".settingsModal\");\n          triggerModal(settingsModal);\n\n          break;\n        case 'openCalendar':\n          e.preventDefault();\n          var calendarModal = $(\".calendarModal\");\n          triggerModal(calendarModal);\n          break;\n        case 'openTodos':\n          e.preventDefault();\n          var todosModal = $(\".todosModal\");\n          triggerModal(todosModal);\n          break;\n     }\n  });\n\n  /*\n    Handler for the suggested favorites in the Add New Favorite menu\n  */\n  $(document).on(\"click\", \".popFav\", function(e){\n    e.preventDefault();\n    var selection = $(this)[0];\n    var titletoAdd = selection.dataset.title;\n    var urltoAdd = selection.dataset.url;\n    var imgtoAdd = selection.dataset.imgurl;\n\n    var newEntry = {\n      \"title\" : titletoAdd,\n      \"url\" : urltoAdd,\n      \"bgImg\" : imgtoAdd\n    };\n    FavoritesManager.saveFavorite(newEntry, NTInstance);\n    $(this).remove();\n    var allPopFavs = $(\".popularFavs\").children();\n    var popArr = [].slice.call(allPopFavs, 0);\n    var match = popArr.filter(function(el) {\n      return $(el).data(\"url\") === urltoAdd;\n    });\n    $(match).hide();\n    if($(\".addModal .popularFavs\").children().length === 0) {\n      NTInstance.setSetting(\"hidePopFaves\", true);\n      $(\".addExtra, .popularFavs, .hidePopFaves\").hide();\n    }\n  });\n/*\n  Handler for close button\n*/\n  $(document).on(\"click\", \".closeBtn\", function(e) {\n    e.preventDefault();\n    var modalToClose = $(this).closest(\".modal\");\n    closeModal(modalToClose);\n  });\n\n  /*\n    Handler for the add button on the Add a New Favorite menu\n  */\n  $(document).on(\"click\", \".addBtn\",  function(e){\n    e.preventDefault();\n    var titleVal = $(\"#inputTitle\").val();\n    var urlVal = $(\"#inputUrl\").val();\n    urlVal = Util.addHttp(urlVal);\n    var isValidURL = Util.validateURL(urlVal);\n    if(!isValidURL) {\n      $(\".addFormError\").css(\"color\", \"red\");\n      $(\".addFormError\").text(\"Please enter a valid URL\").show();\n    }\n    var imageVal = $(\"#inputImage\").val();\n    imageVal = Util.addHttp(imageVal);\n    var isValidImgURL = Util.validateURL(imageVal);\n    if(!isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid Image URL\").show();\n    }\n    if(!isValidURL && !isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid URL & Image URL\").show();\n    }\n    if((titleVal !== \"\") && (urlVal !== \"\" && isValidURL) && (imageVal !== \"\" && isValidImgURL)){\n      var newEntry = {\n        \"title\" : titleVal,\n        \"url\" : urlVal,\n        \"bgImg\" : imageVal\n      };\n      FavoritesManager.saveFavorite(newEntry, NTInstance);\n\n      if ($(\".modal\").length !== null) {\n        closeModal($(\".modal\"));\n      }\n      $(\".addFormError\").hide();\n      $(\".addFavForm input\").val(\"\");\n    }\n    else {\n      $(\".addFormError\").show();\n    }\n  });\n  $(document).on(\"click\", \".updateBtn\", function() {\n    var newImageURL = $(\"input[name=themeBGImage]\").val();\n    var isValidURL = Util.validateURL(newImageURL);\n    if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", newImageURL);\n      $(\"body\").css(\"background-image\", \"url('\" + newImageURL + \"')\");\n    }\n    else {\n      $(\".bgURLError\").show();\n    }\n  });\n  $(document).on(\"click\", \".removeBtn\", function() {\n    $(\"input[name=themeBGImage]\").val(\"\");\n    NTInstance.setSetting(\"userThemeBG\", null);\n    $(\"body\").css(\"background-image\", \"none\");\n    $(\".bgURLError\").hide();\n  });\n\n  $('input[type=radio][name=theme-select]').change(function() {\n    NTInstance.setSetting(\"userTheme\", this.value);\n    ThemeManager.setTheme(this.value);\n  });\n\n\n  $(document).on(\"change\", \".hoverOption\", function() {\n    var hoverSelected = $(this).val();\n    SettingsManager.setHover(hoverSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".fontOption\", function() {\n    var fontSelected = $(this).val();\n    SettingsManager.setFont(fontSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".favoriteSize\", function() {\n    var sizeSelected = $(this).val();\n    SettingsManager.setSize(sizeSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".themeBGImageRepeat\", function() {\n    var bgStyleSelected = $(this).val();\n    SettingsManager.setBGStyle(bgStyleSelected, NTInstance);\n  });\n  /*\n    Handlers for edit mode options on each of the favorites\n  */\n  $(document).on(\"click\", \".optDel\", function(e) {\n    e.preventDefault();\n\n\n    var linkToDelete = $(this).parent().attr(\"href\");\n    FavoritesManager.deleteFavorite(linkToDelete, NTInstance);\n    $(this).parent().remove();\n  });\n  $(document).on(\"click\", \".favorite\", function(e) {\n    if($(this).hasClass(\"editing\"))\n      e.preventDefault();\n  });\n  $(\".todoForm\").on(\"submit\", (e) => {\n    e.preventDefault();\n    let $todoList = $(\".todos\");\n    let $newTodo = $(\".newTodo\").val();\n    Todos.addNewTodoToDOM( {\"item\" : $newTodo, \"isDone\" : false }, $todoList);\n    Todos.saveTodo($newTodo);\n    $(\".newTodo\").val(\"\");\n  });\n  $(document).on(\"click\", \".addTodo\", () => {\n    $(\".todoForm\").submit();\n  });\n  $(document).on(\"click\", \".todoItem\", function () {\n    $(this).toggleClass(\"complete\");\n    var childCheckbox = $(this).find(\"input[type='checkbox']\");\n    if($(this).hasClass(\"complete\"))\n    childCheckbox.prop(\"checked\", true);\n    else\n    childCheckbox.prop(\"checked\", false);\n    Todos.saveTodoList();\n  });\n\n  $(document).on(\"click\", \".hidePopFaves\", function() {\n    NTInstance.setSetting(\"hidePopFaves\", true);\n    $(\".popularFavs, .addExtra, .hidePopFaves\").hide();\n  });\n  $(document).on(\"click\", \".clearBtn\", function() {\n    Todos.clearAllTodos();\n  });\n\n  $(document).on(\"click\", \".delTodo\", function() {\n    $(this).parent().remove();\n    Todos.saveTodoList();\n  });\n\n});\n\nfunction triggerModal(modal) {\n    $('.lightbox').fadeIn();\n    modal.css({\n      \"right\" : \"0px\"\n    });\n\n}\n\nfunction closeModal (modal) {\n    $('.lightbox').fadeOut();\n    modal.css({\n      \"right\" : \"-425px\"\n    });\n}\n\n},{\"./FavoritesManager.js\":1,\"./SettingsManager.js\":2,\"./ThemeManager.js\":3,\"./createCalendar.js\":4,\"./todos.js\":6,\"./util.js\":7}],6:[function(require,module,exports){\nconst Util = require(\"./util.js\");\n\nfunction addNewTodoToDOM(todo, location) {\n  let { item, isDone } = todo;\n  let isChecked = isDone ? \"checked\" : \"\";\n  let complete = isDone ? \"complete\" : \"\";\n  let todoHTML = `<li class=\"todoItem ${complete}\"><i class=\"fa fa-trash-o fa-fw delTodo\"></i><input type=\"checkbox\" ${isChecked}/><span>${item}</span></li>`;\n  $(location).append(todoHTML);\n}\n\nfunction saveTodo(todo) {\n  var newTodoItem = {\n    item: todo,\n    isDone: false\n  };\n  var existingTodos = Util.getBrowserSetting(\"todos\", []);\n  existingTodos.push(newTodoItem);\n  Util.setBrowserSetting(\"todos\", existingTodos);\n}\n\nfunction getSavedTodos() {\n  var savedTodos = Util.getBrowserSetting(\"todos\", []);\n  return savedTodos;\n}\n\nfunction saveTodoList() {\n  let currentTodos = [].slice.call($(\"li.todoItem\"));\n  let updatedTodos = [];\n  currentTodos.forEach(function(el) {\n    let todoEntry = {\n      \"item\" : $(el).find(\"span\").text(),\n      \"isDone\" : $(el).find(\"input\").prop(\"checked\")\n    };\n    updatedTodos.push(todoEntry);\n  });\n  \n  Util.setBrowserSetting(\"todos\", updatedTodos);\n}\n\nfunction clearAllTodos() {\n  $(\"li.todoItem\").remove();\n  saveTodoList();\n\n}\n\nmodule.exports = {\n  addNewTodoToDOM,\n  saveTodo,\n  getSavedTodos,\n  saveTodoList,\n  clearAllTodos\n};\n\n},{\"./util.js\":7}],7:[function(require,module,exports){\n// const $ = require(\"jquery\");\nmodule.exports = {\n  getCookie,\n  compareLists,\n  getPromise,\n  getCurrentTime,\n  getParameterByName,\n  getBrowser,\n  getBrowserSetting,\n  setBrowserSetting,\n  jsonp,\n  validateURL,\n  addHttp\n};\n\n// Check if two lists are equal\nfunction compareLists(list1, list2) {\n  // If they aren't the same length\n  if(list1.length !== list2.length) return false;\n  for (var i = 0; i < list1.length; i++) {\n    if(list2.indexOf(list1[i]) === -1) return false;\n  }\n  return true;\n}\n// Returns a promise object\nfunction getPromise(data) {\n  return $.ajax(data);\n}\n\n// Returns the current time as a string like \"5:30 pm\"\nfunction getCurrentTime() {\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  return currentTime.toLowerCase();\n}\n\n// Uses chrome api to retrieve cookie name and value\nfunction getCookie(cookieInfo = { domain: \"\", name: \"\"}) {\n\n  if(cookieInfo.domain === \"\" && cookieInfo.name === \"\") return;\n\n  var p = new Promise((resolve, reject) => {\n    // Gets Cookies\n    if(getBrowser() === \"chrome\"){\n      chrome.cookies.getAll(cookieInfo, function(res) {\n        // If cookie exists pass value into exists callback\n        if(res.length > 0 && typeof res[0].value !== 'undefined'){\n          var catFromCookie = JSON.stringify([res[0].value]);\n          resolve(catFromCookie);\n          // if(typeof exists === \"function\") exists(catFromCookie);\n        }\n        // If it doesn't call absent() callback\n        else {\n          resolve(\"\");\n          // if(typeof absent === \"function\") absent();\n        }\n      });\n    }\n    // Requires to be on same domain\n    else {\n      var name = cookieInfo.name + \"=\";\n      var ca = document.cookie.split(';');\n      var val;\n      for(var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            val = c.substring(name.length, c.length);\n            resolve(val);\n        }\n      }\n      val = \"\";\n      resolve(val);\n    }\n  });\n\n  return p;\n\n}\n\nfunction getParameterByName(name) {\n  var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n  if(match !== null) {\n    if(typeof match[1] !== \"undefined\")\n      return decodeURIComponent(match[1].replace(/\\+/g, ' '));\n  }\n}\n\nfunction getBrowser() {\n    var ua = window.navigator.userAgent || \"\";\n    if (ua.indexOf(\"Chrome\") > -1) {\n        if (ua.indexOf(\"Edge\") == -1) {\n            return \"chrome\";\n        } else {\n            return \"other\";\n        }\n    } else if (ua.indexOf(\"Firefox\") > -1) {\n        return \"firefox\";\n    } else if (ua.indexOf(\"MSIE 8.0\") > -1) {\n\n        return \"ie8\";\n    } else {\n\n        // Any other browser logic\n        return \"other\";\n    }\n}\n\nfunction setBrowserSetting(name, value) {\n  var browser = getBrowser();\n  var background, NTInstance;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      NTInstance.setSetting(name, value);\n    }\n  }\n  else {\n    localStorage.setItem(name, value);\n  }\n}\nfunction getBrowserSetting(name, defValue) {\n  var background, NTInstance;\n  var browser = getBrowser();\n  var settingVal;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      settingVal = NTInstance.getSetting(name, defValue);\n\n    }\n  }\n  else {\n    settingVal = localStorage.getItem(name);\n    if(settingVal === null) settingVal = defValue;\n  }\n  return settingVal;\n}\n\nfunction jsonp(url, callback) {\n  var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n  window[callbackName] = function(data) {\n      delete window[callbackName];\n      document.head.removeChild(script);\n      callback(data);\n  };\n\n  var script = document.createElement('script');\n  script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n  document.head.appendChild(script);\n}\n\nfunction validateURL (url) {\n  if(url.match(/(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\&\\.\\-]*)*\\/?/) === null){\n    return false;\n  }\n  else return true;\n}\n\nfunction addHttp (url) {\n  var newUrl;\n  if(url.match(/^(https?:\\/\\/)/) === null){\n    var addHttp = \"http://\";\n    newUrl = addHttp.concat(url);\n    return newUrl;\n  }\n  return url;\n};\n\n},{}]},{},[5])\n\n","// const $ = require(\"jquery\");\nconst ThemeManager = require(\"./ThemeManager.js\");\n// Prompt user for image to use for bookmark\n// and also the url.  Append to favorites\n\n\n\n\nfunction loadUserSettings(NTInstance) {\n    var userTheme = NTInstance.getSetting(\"userTheme\", \"fade\");\n    var userFont = NTInstance.getSetting(\"userFont\", \"Montserrat\");\n    var userHover = NTInstance.getSetting(\"userHover\", \"hoverPop\");\n    var userBGImg = NTInstance.getSetting(\"userThemeBG\", null);\n    var userFaveSize = NTInstance.getSetting(\"userFaveSize\", \"80\");\n    var userBGStyle = NTInstance.getSetting(\"userBGStyle\", \"repeat\");\n    NTInstance.currentSettings = {\n      \"theme\" : userTheme,\n      \"font\" : userFont,\n      \"hover\" : userHover,\n      \"background\" : userBGImg,\n      \"faveSize\" : userFaveSize,\n      \"bgStyle\" : userBGStyle\n    };\n    // console.log(NTInstance.currentSettings);\n}\nfunction setUserSettings (settings) {\n    let cardSizeStr = settings.faveSize + \"px \" + (parseInt(settings.faveSize) + 40) + \"px\";\n\n    // Set Theme Styles\n    ThemeManager.setTheme(settings.theme);\n    // Set BG Image Style\n    if(settings.bgStyle === \"cover\"){\n      $(\"body\").css(\"background-size\", settings.bgStyle);\n    }\n    else {\n      $(\"body\").css(\"background-repeat\", settings.bgStyle);\n      $(\"body\").css(\"background-size\", \"auto\");\n\n    }\n    // Set Font\n    $(\"*\").not(\"i, h3, label\").css(\"font-family\", settings.font);\n\n    var radios = $(\"input[name=theme-select]\");\n    $(radios).each(function(i, el) {\n      if($(el).val() === settings.theme)\n        $(el).attr(\"checked\", \"checked\");\n    });\n    // Set Background\n    if(settings.background !== null) {\n      $(\"body\").css(\"background-image\", \"url(\" + settings.background +\")\");\n      $(\"input[name=themeBGImage]\").val(settings.background);\n    }\n    // Set Settings Options to their saved values\n    $(\".themeBGImageRepeat\").val(settings.bgStyle);\n    $(\".favoriteSize\").val(settings.faveSize);\n    $(\"select.fontOption\").val(settings.font);\n    $(\"select.hoverOption\").val(settings.hover);\n\n\n  }\n\nfunction setFont(fontName, NTInstance) {\n    let newFontStack = fontName;\n    NTInstance.setSetting(\"userFont\", newFontStack);\n    console.log(newFontStack);\n    $(\"*\").not(\"i, .settingsBtn, .removeBtn, .addBtn, .clearBtn\").css(\"font-family\", newFontStack);\n}\n\nfunction setHover(hoverName, NTInstance) {\n  NTInstance.setSetting(\"userHover\", hoverName);\n  switch(hoverName) {\n\n    case \"hoverPop\":\n    $(\".favorite\").addClass(\"hoverPop\").removeClass(\"hoverNone hoverHighlight\");\n    break;\n\n    case \"hoverHighlight\":\n    $(\".favorite\").addClass(\"hoverHighlight\").removeClass(\"hoverNone hoverPop\");\n    break;\n\n    case \"hoverNone\":\n    $(\".favorite\").addClass(\"hoverNone\").removeClass(\"hoverPop hoverHighlight\");\n    break;\n  }\n  //$(\".favorite\").addClass(hoverName).removeClass(\"hoverNone hoverHighlight\");\n}\n\nfunction setSize(sizeVal, NTInstance) {\n  NTInstance.setSetting(\"userFaveSize\", sizeVal);\n  let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n  $(\".favorite\").css({\n    \"padding\" : cardSizeStr,\n    \"transition\" : \"0.4s padding, 0.3s transform, 0.3s margin\"\n  });\n}\n function setBGStyle(styleVal, NTInstance) {\n  NTInstance.setSetting(\"userBGStyle\", styleVal);\n  if(styleVal === \"cover\"){\n    $(\"body\").css(\"background-size\", styleVal);\n  }\n  else {\n    $(\"body\").css(\"background-repeat\", styleVal);\n    $(\"body\").css(\"background-size\", \"auto\");\n  }\n  // let cardSizeStr = sizeVal + \"px \" + (parseInt(sizeVal) + 40) + \"px\";\n}\n\nmodule.exports = {\n  loadUserSettings,\n  setUserSettings,\n  setFont,\n  setHover,\n  setSize,\n  setBGStyle\n};\n","const Util = require(\"./util.js\");\n\nclass ThemeManager {\n  constructor() {\n    this.currentTheme = \"fade\";\n  }\n\n  init() {\n    this.loadTheme();\n  }\n\n  getTheme() {\n    return this.currentTheme;\n  }\n\n  setTheme(themeName) {\n    switch(themeName) {\n      case \"fade\" :\n        this.setFadeTheme();\n        break;\n      case \"light\" :\n        this.setLightTheme();\n        break;\n      case \"dark\" :\n        this.setDarkTheme();\n        break;\n      default:\n        this.setFadeTheme();\n        break;\n    }\n  }\n\n  setFadeTheme() {\n    $(\"body\").css({\"background\" : \"white\"});\n    $(\".modal, .headerPanel\").css(\"background\", \"rgba(0,0,0,0.4)\");\n    $(\"*\").not(\".bgURLError, h3, i, .clearBtn, .addBtn, .settingsBtn, .removeBtn\").css(\"color\", \"white\");\n    $(\"h3\").css(\"color\", \"#333\");\n    // $(\"input, select, option\").css(\"color\", \"white\");\n    $(\".favorite\").css({\"border\" : \".5px solid black\"});\n    $(\".headerPanel\").css(\"border\", \"none\");\n  }\n  setLightTheme() {\n    $(\"body, .modal, .headerPanel\").css({\"background\" : \"white\"});\n    $(\"*\").not(\".addBtn, .settingsBtn, .bgURLError, .currentDay span, .addFormError, .addTodo, .clearBtn, input\").css(\"color\", \"black\");\n    $(\".favorite\").css({\"border\" : \".5px solid black\"});\n    $(\".favorite i, .popFav, .addTodo i\").css(\"color\", \"white\");\n  }\n  setDarkTheme() {\n    $(\"body, .modal, .headerPanel\").css({\"background\": \"#3c3c3c\"});\n    $(\"*\").not(\".bgURLError\").css(\"color\", \"white\");\n    $(\"input, select, option\").css(\"color\", \"black\");\n    $(\".favorite\").css({\"border\" : \"none\"});\n    // $(\".favorite\").css({\"border\": \"1.5px solid #999\", \"boxShadow\" : \"0px 1px 1px 1px #666\"});\n  }\n\n\n  saveTheme(theme) {\n    Util.setBrowserSetting(\"currentTheme\", theme);\n  }\n\n  loadTheme() {\n    let currentTheme = Util.getBrowserSetting(\"currentTheme\", \"fade\");\n    this.setTheme(currentTheme);\n  }\n\n}\n\nconst themeManager = new ThemeManager();\nmodule.exports = themeManager;\n","// Calendar\nlet d = new Date();\nlet month_name = ['January',\n                  'February',\n                  'March',\n                  'April',\n                  'May',\n                  'June',\n                  'July',\n                  'August',\n                  'September',\n                  'October',\n                  'November',\n                  'December'];\n\nlet month = d.getMonth(); // 0 - 11\nlet year = d.getFullYear(); // 2016\nlet today = d.getDate(); // 23\n\n// January 1 2016\nlet first_date = month_name[month] + \" \" + 1 + \" \" + year;\n\n\n\n// Sun January 1 2016\nlet tmp = new Date(first_date).toDateString();\n// Sun\nlet first_day = tmp.substring(0, 3);\nlet day_name = ['Sun', 'Mon', \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n// [0]\nlet day_no = day_name.indexOf(first_day);\nlet days = new Date(year, month+1, 0).getDate();\nlet table = document.createElement(\"table\");\nlet theCalendar;\n\nlet tr = document.createElement(\"tr\");\nfunction buildCalendar() {\n\n// Row for day labels\nfor(var c = 0; c < 7; c++) {\n  var td = document.createElement(\"td\");\n  var daysOfTheWeek = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  td.innerHTML = daysOfTheWeek[c];\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// Row for blank spaces\ntr = document.createElement(\"tr\");\nfor(c = 0;c < 7; c++) {\n  if(c === day_no) {\n    break;\n  }\n  var td = document.createElement(\"td\");\n  td.innerHTML = \"\";\n  tr.appendChild(td);\n}\n\n// Start counting days of the month\nvar count = 1;\n\nfor(; c < 7; c++) {\n  var td = document.createElement(\"td\");\n\n  td.innerHTML = \"<span>\" + count + \"</span>\";\n  if(count === today){\n    td.classList.add(\"currentDay\");\n  }\n\n  count++;\n  tr.appendChild(td);\n}\ntable.appendChild(tr);\n\n// rest of the date rows\nfor(var r = 2; r < 7; r++) {\n\n  tr = document.createElement(\"tr\");\n  for(c = 0; c <  7;c++) {\n    if(count > days) {\n      table.appendChild(tr);\n      return table;\n      //console.log(\"theCalendar: \" + theCalendar);\n    }\n    var td = document.createElement(\"td\");\n    td.innerHTML = \"<span>\" + count + \"</span>\";\n    if(count === today){\n      td.classList.add(\"currentDay\");\n    }\n    count++;\n    tr.appendChild(td);\n  }\n  table.appendChild(tr);\n}\n}\n\ntheCalendar = buildCalendar();\nmodule.exports = {\n  theCalendar,\n  month_name,\n  month,\n  year\n};\n","const background = chrome.extension.getBackgroundPage();\nconst NTInstance = background.NTInstance;\nNTInstance.editing = false;\nNTInstance.currentSettings = {\n  \"theme\" : \"light\",\n  \"font\" : \"Montserrat\",\n  \"hover\" : \"hoverPop\",\n  \"background\" : null,\n  \"faveSize\" : \"60\"\n};\n// chrome.storage.local.get(function(res){\n//   console.log(res);\n// });\n\nconst SettingsManager = require(\"./SettingsManager.js\");\nconst Calendar = require(\"./createCalendar.js\");\nconst FavoritesManager = require(\"./FavoritesManager.js\");\nconst Util = require(\"./util.js\");\nconst Todos = require(\"./todos.js\");\nconst ThemeManager = require(\"./ThemeManager.js\");\n\n\n$(document).ready(function() {\n  SettingsManager.loadUserSettings(NTInstance);\n  FavoritesManager.loadSavedFavorites(NTInstance);\n  FavoritesManager.loadPopularFavorites(NTInstance);\n  SettingsManager.setUserSettings(NTInstance.currentSettings);\n  var calendar = Calendar.theCalendar;\n  $(\".calendar-head\").html(\"<span>\" + Calendar.month_name[Calendar.month] + \" \" + Calendar.year + \"</span\");\n  $(\".calendar\").append(calendar);\n  $(\"#favorites\").sortable();\n  $(\"#favorites\").sortable(\"disable\");\n  chrome.runtime.sendMessage({task: \"checkFirstRun\"}, function(res) {\n    if(res.firstRun){\n      FavoritesManager.loadDefaultFavorites(NTInstance);\n      triggerModal($(\".addModal\"));\n      $(\"#obInputTitle\").focus();\n    }\n    else {\n      let $todoList = $(\".todos\");\n      var savedTodos = Todos.getSavedTodos();\n      savedTodos.forEach((el) => {\n        Todos.addNewTodoToDOM(el, $todoList);\n      });\n      let hidePopFaves = NTInstance.getSetting(\"hidePopFaves\", false);\n\n      if(hidePopFaves) {\n        $(\".popularFavs, .addExtra, .hidePopFaves\").hide();\n      }\n    }\n\n    // Hide edit icons\n    $(\".favorite\").children().hide();\n  });\n\n  // Refresh time every second\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  $('#time').html(currentTime);\n  var currentDate = new Date().toDateString();\n  $('#date').html(currentDate);\n  setInterval(function(){\n    currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n    $('#time').html(currentTime);\n  }, 1000);\n  /*\n    Handlers for the top right main user actions menu\n  */\n  $(document).on(\"click\", \".userAction\", function(e) {\n     e.preventDefault();\n     var clickElement = $(this).attr('id');\n\n     switch(clickElement) {\n        case \"addFavorite\":\n          e.preventDefault();\n          if($(\".addModal .popularFavs\").children().length === 0){\n            $(\".addExtra\").hide();\n          }\n          var modalToOpen = $(\".addModal\");\n          triggerModal(modalToOpen);\n          $(\"#inputTitle\").focus();\n          break;\n\n        case 'editMode':\n          e.preventDefault();\n          $(\".favorite\").toggleClass(\"editing\");\n          $(\".favorite\").children().toggle();\n          if(!NTInstance.editing){\n            $(\"#favorites\").sortable(\"enable\");\n          }\n          else{\n            $(\"#favorites\").sortable(\"disable\");\n            let newFaves = [].slice.call($(\".favorite\"),0);\n            let reorderedFaves = [];\n              newFaves.forEach((el) => {\n              let { title, bgImg } = el.dataset;\n              let newFave = {\n                \"title\" : title,\n                \"url\" : el.href,\n                \"bgImg\" : bgImg\n              };\n              reorderedFaves.push(newFave);\n            });\n            NTInstance.setSetting(\"savedFavorites\", reorderedFaves);\n          }\n          NTInstance.editing = !NTInstance.editing;\n          break;\n\n        case 'openSettings':\n          e.preventDefault();\n          var settingsModal = $(\".settingsModal\");\n          triggerModal(settingsModal);\n\n          break;\n        case 'openCalendar':\n          e.preventDefault();\n          var calendarModal = $(\".calendarModal\");\n          triggerModal(calendarModal);\n          break;\n        case 'openTodos':\n          e.preventDefault();\n          var todosModal = $(\".todosModal\");\n          triggerModal(todosModal);\n          break;\n     }\n  });\n\n  /*\n    Handler for the suggested favorites in the Add New Favorite menu\n  */\n  $(document).on(\"click\", \".popFav\", function(e){\n    e.preventDefault();\n    var selection = $(this)[0];\n    var titletoAdd = selection.dataset.title;\n    var urltoAdd = selection.dataset.url;\n    var imgtoAdd = selection.dataset.imgurl;\n\n    var newEntry = {\n      \"title\" : titletoAdd,\n      \"url\" : urltoAdd,\n      \"bgImg\" : imgtoAdd\n    };\n    FavoritesManager.saveFavorite(newEntry, NTInstance);\n    $(this).remove();\n    var allPopFavs = $(\".popularFavs\").children();\n    var popArr = [].slice.call(allPopFavs, 0);\n    var match = popArr.filter(function(el) {\n      return $(el).data(\"url\") === urltoAdd;\n    });\n    $(match).hide();\n    if($(\".addModal .popularFavs\").children().length === 0) {\n      NTInstance.setSetting(\"hidePopFaves\", true);\n      $(\".addExtra, .popularFavs, .hidePopFaves\").hide();\n    }\n  });\n/*\n  Handler for close button\n*/\n  $(document).on(\"click\", \".closeBtn\", function(e) {\n    e.preventDefault();\n    var modalToClose = $(this).closest(\".modal\");\n    closeModal(modalToClose);\n  });\n\n  /*\n    Handler for the add button on the Add a New Favorite menu\n  */\n  $(document).on(\"click\", \".addBtn\",  function(e){\n    e.preventDefault();\n    var titleVal = $(\"#inputTitle\").val();\n    var urlVal = $(\"#inputUrl\").val();\n    urlVal = Util.addHttp(urlVal);\n    var isValidURL = Util.validateURL(urlVal);\n    if(!isValidURL) {\n      $(\".addFormError\").css(\"color\", \"red\");\n      $(\".addFormError\").text(\"Please enter a valid URL\").show();\n    }\n    var imageVal = $(\"#inputImage\").val();\n    imageVal = Util.addHttp(imageVal);\n    var isValidImgURL = Util.validateURL(imageVal);\n    if(!isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid Image URL\").show();\n    }\n    if(!isValidURL && !isValidImgURL) {\n      $(\".addFormError\").text(\"Please enter a valid URL & Image URL\").show();\n    }\n    if((titleVal !== \"\") && (urlVal !== \"\" && isValidURL) && (imageVal !== \"\" && isValidImgURL)){\n      var newEntry = {\n        \"title\" : titleVal,\n        \"url\" : urlVal,\n        \"bgImg\" : imageVal\n      };\n      FavoritesManager.saveFavorite(newEntry, NTInstance);\n\n      if ($(\".modal\").length !== null) {\n        closeModal($(\".modal\"));\n      }\n      $(\".addFormError\").hide();\n      $(\".addFavForm input\").val(\"\");\n    }\n    else {\n      $(\".addFormError\").show();\n    }\n  });\n  $(document).on(\"click\", \".updateBtn\", function() {\n    var newImageURL = $(\"input[name=themeBGImage]\").val();\n    var isValidURL = Util.validateURL(newImageURL);\n    if(isValidURL) {\n      NTInstance.setSetting(\"userThemeBG\", newImageURL);\n      $(\"body\").css(\"background-image\", \"url('\" + newImageURL + \"')\");\n    }\n    else {\n      $(\".bgURLError\").show();\n    }\n  });\n  $(document).on(\"click\", \".removeBtn\", function() {\n    $(\"input[name=themeBGImage]\").val(\"\");\n    NTInstance.setSetting(\"userThemeBG\", null);\n    $(\"body\").css(\"background-image\", \"none\");\n    $(\".bgURLError\").hide();\n  });\n\n  $('input[type=radio][name=theme-select]').change(function() {\n    NTInstance.setSetting(\"userTheme\", this.value);\n    ThemeManager.setTheme(this.value);\n  });\n\n\n  $(document).on(\"change\", \".hoverOption\", function() {\n    var hoverSelected = $(this).val();\n    SettingsManager.setHover(hoverSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".fontOption\", function() {\n    var fontSelected = $(this).val();\n    SettingsManager.setFont(fontSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".favoriteSize\", function() {\n    var sizeSelected = $(this).val();\n    SettingsManager.setSize(sizeSelected, NTInstance);\n  });\n  $(document).on(\"change\", \".themeBGImageRepeat\", function() {\n    var bgStyleSelected = $(this).val();\n    SettingsManager.setBGStyle(bgStyleSelected, NTInstance);\n  });\n  /*\n    Handlers for edit mode options on each of the favorites\n  */\n  $(document).on(\"click\", \".optDel\", function(e) {\n    e.preventDefault();\n\n\n    var linkToDelete = $(this).parent().attr(\"href\");\n    FavoritesManager.deleteFavorite(linkToDelete, NTInstance);\n    $(this).parent().remove();\n  });\n  $(document).on(\"click\", \".favorite\", function(e) {\n    if($(this).hasClass(\"editing\"))\n      e.preventDefault();\n  });\n  $(\".todoForm\").on(\"submit\", (e) => {\n    e.preventDefault();\n    let $todoList = $(\".todos\");\n    let $newTodo = $(\".newTodo\").val();\n    Todos.addNewTodoToDOM( {\"item\" : $newTodo, \"isDone\" : false }, $todoList);\n    Todos.saveTodo($newTodo);\n    $(\".newTodo\").val(\"\");\n  });\n  $(document).on(\"click\", \".addTodo\", () => {\n    $(\".todoForm\").submit();\n  });\n  $(document).on(\"click\", \".todoItem\", function () {\n    $(this).toggleClass(\"complete\");\n    var childCheckbox = $(this).find(\"input[type='checkbox']\");\n    if($(this).hasClass(\"complete\"))\n    childCheckbox.prop(\"checked\", true);\n    else\n    childCheckbox.prop(\"checked\", false);\n    Todos.saveTodoList();\n  });\n\n  $(document).on(\"click\", \".hidePopFaves\", function() {\n    NTInstance.setSetting(\"hidePopFaves\", true);\n    $(\".popularFavs, .addExtra, .hidePopFaves\").hide();\n  });\n  $(document).on(\"click\", \".clearBtn\", function() {\n    Todos.clearAllTodos();\n  });\n\n  $(document).on(\"click\", \".delTodo\", function() {\n    $(this).parent().remove();\n    Todos.saveTodoList();\n  });\n\n});\n\nfunction triggerModal(modal) {\n    $('.lightbox').fadeIn();\n    modal.css({\n      \"right\" : \"0px\"\n    });\n\n}\n\nfunction closeModal (modal) {\n    $('.lightbox').fadeOut();\n    modal.css({\n      \"right\" : \"-425px\"\n    });\n}\n","const Util = require(\"./util.js\");\n\nfunction addNewTodoToDOM(todo, location) {\n  let { item, isDone } = todo;\n  let isChecked = isDone ? \"checked\" : \"\";\n  let complete = isDone ? \"complete\" : \"\";\n  let todoHTML = `<li class=\"todoItem ${complete}\"><i class=\"fa fa-trash-o fa-fw delTodo\"></i><input type=\"checkbox\" ${isChecked}/><span>${item}</span></li>`;\n  $(location).append(todoHTML);\n}\n\nfunction saveTodo(todo) {\n  var newTodoItem = {\n    item: todo,\n    isDone: false\n  };\n  var existingTodos = Util.getBrowserSetting(\"todos\", []);\n  existingTodos.push(newTodoItem);\n  Util.setBrowserSetting(\"todos\", existingTodos);\n}\n\nfunction getSavedTodos() {\n  var savedTodos = Util.getBrowserSetting(\"todos\", []);\n  return savedTodos;\n}\n\nfunction saveTodoList() {\n  let currentTodos = [].slice.call($(\"li.todoItem\"));\n  let updatedTodos = [];\n  currentTodos.forEach(function(el) {\n    let todoEntry = {\n      \"item\" : $(el).find(\"span\").text(),\n      \"isDone\" : $(el).find(\"input\").prop(\"checked\")\n    };\n    updatedTodos.push(todoEntry);\n  });\n  \n  Util.setBrowserSetting(\"todos\", updatedTodos);\n}\n\nfunction clearAllTodos() {\n  $(\"li.todoItem\").remove();\n  saveTodoList();\n\n}\n\nmodule.exports = {\n  addNewTodoToDOM,\n  saveTodo,\n  getSavedTodos,\n  saveTodoList,\n  clearAllTodos\n};\n","// const $ = require(\"jquery\");\nmodule.exports = {\n  getCookie,\n  compareLists,\n  getPromise,\n  getCurrentTime,\n  getParameterByName,\n  getBrowser,\n  getBrowserSetting,\n  setBrowserSetting,\n  jsonp,\n  validateURL,\n  addHttp\n};\n\n// Check if two lists are equal\nfunction compareLists(list1, list2) {\n  // If they aren't the same length\n  if(list1.length !== list2.length) return false;\n  for (var i = 0; i < list1.length; i++) {\n    if(list2.indexOf(list1[i]) === -1) return false;\n  }\n  return true;\n}\n// Returns a promise object\nfunction getPromise(data) {\n  return $.ajax(data);\n}\n\n// Returns the current time as a string like \"5:30 pm\"\nfunction getCurrentTime() {\n  var currentTime = new Date().toLocaleTimeString(navigator.language, { hour : '2-digit', minute: '2-digit'} );\n  return currentTime.toLowerCase();\n}\n\n// Uses chrome api to retrieve cookie name and value\nfunction getCookie(cookieInfo = { domain: \"\", name: \"\"}) {\n\n  if(cookieInfo.domain === \"\" && cookieInfo.name === \"\") return;\n\n  var p = new Promise((resolve, reject) => {\n    // Gets Cookies\n    if(getBrowser() === \"chrome\"){\n      chrome.cookies.getAll(cookieInfo, function(res) {\n        // If cookie exists pass value into exists callback\n        if(res.length > 0 && typeof res[0].value !== 'undefined'){\n          var catFromCookie = JSON.stringify([res[0].value]);\n          resolve(catFromCookie);\n          // if(typeof exists === \"function\") exists(catFromCookie);\n        }\n        // If it doesn't call absent() callback\n        else {\n          resolve(\"\");\n          // if(typeof absent === \"function\") absent();\n        }\n      });\n    }\n    // Requires to be on same domain\n    else {\n      var name = cookieInfo.name + \"=\";\n      var ca = document.cookie.split(';');\n      var val;\n      for(var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            val = c.substring(name.length, c.length);\n            resolve(val);\n        }\n      }\n      val = \"\";\n      resolve(val);\n    }\n  });\n\n  return p;\n\n}\n\nfunction getParameterByName(name) {\n  var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n  if(match !== null) {\n    if(typeof match[1] !== \"undefined\")\n      return decodeURIComponent(match[1].replace(/\\+/g, ' '));\n  }\n}\n\nfunction getBrowser() {\n    var ua = window.navigator.userAgent || \"\";\n    if (ua.indexOf(\"Chrome\") > -1) {\n        if (ua.indexOf(\"Edge\") == -1) {\n            return \"chrome\";\n        } else {\n            return \"other\";\n        }\n    } else if (ua.indexOf(\"Firefox\") > -1) {\n        return \"firefox\";\n    } else if (ua.indexOf(\"MSIE 8.0\") > -1) {\n\n        return \"ie8\";\n    } else {\n\n        // Any other browser logic\n        return \"other\";\n    }\n}\n\nfunction setBrowserSetting(name, value) {\n  var browser = getBrowser();\n  var background, NTInstance;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      NTInstance.setSetting(name, value);\n    }\n  }\n  else {\n    localStorage.setItem(name, value);\n  }\n}\nfunction getBrowserSetting(name, defValue) {\n  var background, NTInstance;\n  var browser = getBrowser();\n  var settingVal;\n  if(browser === \"chrome\" && typeof chrome.extension.getBackgroundPage() !== \"undefined\"){\n    background = chrome.extension.getBackgroundPage();\n\n    if(typeof background.NTInstance !== \"undefined\"){\n      NTInstance = background.NTInstance;\n      settingVal = NTInstance.getSetting(name, defValue);\n\n    }\n  }\n  else {\n    settingVal = localStorage.getItem(name);\n    if(settingVal === null) settingVal = defValue;\n  }\n  return settingVal;\n}\n\nfunction jsonp(url, callback) {\n  var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n  window[callbackName] = function(data) {\n      delete window[callbackName];\n      document.head.removeChild(script);\n      callback(data);\n  };\n\n  var script = document.createElement('script');\n  script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n  document.head.appendChild(script);\n}\n\nfunction validateURL (url) {\n  if(url.match(/(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\&\\.\\-]*)*\\/?/) === null){\n    return false;\n  }\n  else return true;\n}\n\nfunction addHttp (url) {\n  var newUrl;\n  if(url.match(/^(https?:\\/\\/)/) === null){\n    var addHttp = \"http://\";\n    newUrl = addHttp.concat(url);\n    return newUrl;\n  }\n  return url;\n};\n"]}